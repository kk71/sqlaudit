[
    {
        "_id": "5d1dc60317e30676efdfcadf",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u4e2a\u6570",
                "parm_name": "idx_count",
                "parm_value": 3,
                "parm_unit": ""
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            },
            {
                "parm_desc": "\u7d22\u5f15\u6570",
                "parm_name": "idx_count"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u6570\u91cf\u8fc7\u591a",
        "rule_name": "SINGLETABLE_INDEX_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT T.OWNER||'.'||T.TABLE_NAME, COUNT(1) FROM DBA_INDEXES T WHERE T.OWNER = '@username@' GROUP BY T.OWNER||'.'||T.TABLE_NAME HAVING COUNT(1) > @idx_count@ ORDER BY COUNT(1) DESC",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u53ef\u4ee5\u63d0\u9ad8\u8bbf\u95ee\u901f\u5ea6,\u4f46\u6570\u91cf\u8fc7\u591a\u5c06\u5bfc\u81f4\u7a7a\u95f4\u6d88\u8017\u8fc7\u5927,\u4e14\u7d22\u5f15\u7ef4\u62a4\u6210\u672c\u8f83\u9ad8,\u5f71\u54cdDML\u6548\u7387\u7b49\u95ee\u9898\u3002\u5e94\u63a7\u5236\u7d22\u5f15\u6570\u91cf\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6784\u5efa\u6218\u7565\u6027\u7d22\u5f15\u7ed3\u6784,\u4e0d\u8981\u9488\u5bf9\u6bcf\u4e2a\u9700\u6c42\u90fd\u901a\u8fc7\u521b\u5efa\u7d22\u5f15\u89e3\u51b3"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae0",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u8bb0\u5f55\u5b9a\u4e49\u957f\u5ea6\u4e0e\u5b9e\u9645\u5b58\u50a8\u957f\u5ea6\u5360\u6bd4",
                "parm_name": "data_len_ratio",
                "parm_unit": "",
                "parm_value": 0.5
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u884c\u8bb0\u5f55\u5b9a\u4e49\u5b57\u8282\u6570",
                "parm_name": "data_length"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u5b9e\u9645\u5e73\u5747\u5b58\u653e\u5b57\u8282\u6570",
                "parm_name": "avg_col_len"
            }
        ],
        "rule_desc": "\u8bb0\u5f55\u957f\u5ea6\u5b9a\u4e49\u8fc7\u957f",
        "rule_name": "LONG_COLUMN_TAB",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u8bb0\u5f55\u5b9a\u4e49\u957f\u5ea6\u4e0e\u5b9e\u9645\u5b58\u50a8\u957f\u5ea6\u5dee\u5f02\u8fc7\u5927,\u8bf7\u8003\u8651\u5b57\u6bb5\u7c7b\u578b\u5b9a\u4e49\u662f\u5426\u5408\u7406,\u4e2a\u522b\u5b57\u6bb5\u8fc7\u957f\u662f\u5426\u53ef\u5206\u8868\u5b58\u50a8\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6309\u9700\u5b9a\u4e49\u5b57\u6bb5\u957f\u5ea6"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae1",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "SEQUENCE",
        "input_parms": [
            {
                "parm_desc": "\u7f13\u5b58\u5927\u5c0f",
                "parm_name": "cache_size",
                "parm_unit": "",
                "parm_value": 2000
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u5e8f\u5217\u540d\u79f0",
                "parm_name": "seq_name"
            },
            {
                "parm_desc": "\u7f13\u5b58\u5927\u5c0f",
                "parm_name": "seq_cache_size"
            }
        ],
        "rule_desc": "\u5e8f\u5217CACHESIZE\u8fc7\u5c0f",
        "rule_name": "SEQ_CACHESIZE",
        "rule_complexity": "simple",
        "rule_cmd": "select SEQUENCE_OWNER||'.'||SEQUENCE_NAME, CACHE_SIZE from dba_sequences WHERE SEQUENCE_OWNER = '@username@' AND CACHE_SIZE < @cache_size@",
        "rule_status": "ON",
        "rule_summary": "\u7f13\u5b58\u8fc7\u5c0f\u7684\u5e8f\u5217",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u8c03\u6574cache\u7f13\u5b58\u5927\u5c0f,alter sequence sequence_name cache 2000;"
        ],
        "weight": 1.0,
        "obj_info_type": "SEQUENCE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae2",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u4e0d\u5305\u542b\u65f6\u95f4\u6233\u5b57\u6bb5\u7684\u8868",
        "rule_name": "TIMESTAMP",
        "rule_complexity": "simple",
        "rule_cmd": "select table_name from dba_tables where owner = '@username@' and table_name not in(select table_name from dba_tab_cols where owner = '@username@' and (column_name like 'CREATE%' or column_name like 'UPDATE%') and data_type = 'DATE')",
        "rule_status": "ON",
        "rule_summary": "\u65f6\u95f4\u6233,\u662f\u83b7\u53d6\u589e\u91cf\u6570\u636e\u7684\u4e00\u79cd\u65b9\u6cd5\u3002\u5efa\u8bae\u5728\u8868\u5185\u589e\u52a0\u521b\u5efa\u65f6\u95f4\u3001\u66f4\u65b0\u65f6\u95f4\u7684\u65f6\u95f4\u6233\u5b57\u6bb5\u3002\u547d\u540d\u65b9\u5f0f\u4e3aCREATE_TIME\u3001UPDATE_TIME\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6dfb\u52a0\u65f6\u95f4\u5b57\u6bb5(\u6bd4\u5982\u63d2\u5165\u3001\u66f4\u65b0\u7684\u65f6\u95f4\u6233)"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae3",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "PROCEDURE",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0",
                "parm_name": "proc_name"
            },
            {
                "parm_desc": "\u7c7b\u578b",
                "parm_name": "obj_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u5b58\u50a8\u8fc7\u7a0b",
        "rule_name": "USE_PROCEDURE",
        "rule_complexity": "simple",
        "rule_cmd": "select object_name, object_type from dba_objects where object_type = 'PROCEDURE' and owner = '@username@' order by object_type",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u50a8\u8fc7\u7a0b,\u5c06\u5f71\u54cd\u6570\u636e\u5e93\u7684\u5f02\u6784\u8fc1\u79fb\u80fd\u529b,\u5e76\u5b58\u5728\u4ee3\u7801\u7ef4\u62a4\u6027\u8f83\u5dee\u7b49\u539f\u56e0\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u7528\u5e94\u7528\u7aef\u7a0b\u5e8f\u5b9e\u73b0\u5c06\u5b58\u50a8\u8fc7\u7a0b"
        ],
        "weight": 3.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae4",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "FUNCTION",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u51fd\u6570\u6240\u6709\u8005",
                "parm_name": "owner"
            },
            {
                "parm_desc": "\u51fd\u6570\u540d\u79f0",
                "parm_name": "func_name"
            },
            {
                "parm_desc": "\u7c7b\u578b",
                "parm_name": "obj_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u51fd\u6570",
        "rule_name": "USE_FUNCTION",
        "rule_complexity": "simple",
        "rule_cmd": "select owner,object_name, object_type from dba_objects where object_type = 'FUNCTION' and owner = '@username@' order by object_type",
        "rule_status": "ON",
        "rule_summary": "\u51fd\u6570,\u5c06\u5f71\u54cd\u6570\u636e\u5e93\u7684\u5f02\u6784\u8fc1\u79fb\u80fd\u529b,\u5e76\u5b58\u5728\u4ee3\u7801\u7ef4\u62a4\u6027\u8f83\u5dee\u7b49\u539f\u56e0\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u7528\u5e94\u7528\u7aef\u7a0b\u5e8f\u5b9e\u73b0\u5c06\u51fd\u6570"
        ],
        "weight": 3.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae5",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "COLUMN",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_name": "column_name",
                "parm_desc": "\u5b57\u6bb5\u540d"
            },
            {
                "parm_desc": "\u91cd\u590d\u6b21\u6570",
                "parm_name": "repeat_times"
            }
        ],
        "rule_desc": "\u5b57\u6bb5\u91cd\u590d\u7d22\u5f15",
        "rule_name": "DUPLICATE_INDEX",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT T.COLUMN_NAME, T.TABLE_OWNER||'.'||T.TABLE_NAME, COUNT(T.INDEX_NAME) FROM DBA_IND_COLUMNS T WHERE T.INDEX_OWNER = '@username@' GROUP BY T.TABLE_OWNER||'.'||T.TABLE_NAME, T.COLUMN_NAME HAVING COUNT(T.INDEX_NAME) > 1",
        "rule_status": "ON",
        "rule_summary": "\u4e00\u4e2a\u5b57\u6bb5\u88ab\u591a\u4e2a\u7d22\u5f15\u5f15\u7528,\u8bf7\u8003\u8651\u6784\u5efa\u7b56\u7565\u3002\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15"
        ],
        "weight": 0.3,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae6",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "COLUMN",
        "input_parms": [
            {
                "parm_name": "sample_threshold",
                "parm_value": 10000,
                "parm_unit": "",
                "parm_desc": "\u662f\u5426\u91c7\u6837\u9608\u503c(\u8bb0\u5f55\u6570)"
            },
            {
                "parm_value": 20,
                "parm_unit": "",
                "parm_desc": "\u975e\u91cd\u590d\u503c\u9608\u503c(\u6392\u67e5\u679a\u4e3e)",
                "parm_name": "unrepeat_threshold"
            },
            {
                "parm_desc": "\u8fd4\u56de\u8bb0\u5f55\u6570\u4e0a\u9650",
                "parm_name": "return_num",
                "parm_unit": "",
                "parm_value": 200
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d\u79f0"
            },
            {
                "parm_desc": "\u8868\u5b57\u6bb5\u540d",
                "parm_name": "column_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u5b9a\u4e49\u7c7b\u578b",
                "parm_name": "column_type_define"
            },
            {
                "parm_name": "column_type_real",
                "parm_desc": "\u5b57\u6bb5\u5b9e\u9645\u7c7b\u578b"
            }
        ],
        "rule_desc": "\u8868\u5b57\u6bb5\u7c7b\u578b\u4e0d\u5339\u914d",
        "rule_name": "COL_WRONG_TYPE",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u62bd\u6837\u90e8\u5206\u6570\u636e,\u5206\u6790\u5176\u5b9a\u4e49\u7c7b\u578b\u4e0e\u5b58\u50a8\u7c7b\u578b\u662f\u5426\u76f8\u7b26\u3002\u5e38\u89c1\u95ee\u9898\u5982\u7528\u6570\u5b57\u3001\u6587\u672c\u4fdd\u5b58\u65e5\u671f\u7b49\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5408\u7406\u5b9a\u4e49\u5b57\u6bb5\u7c7b\u578b"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae7",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "PART_TABLE",
        "input_parms": [
            {
                "parm_desc": "\u5206\u533a\u8868\u4e2a\u6570",
                "parm_name": "part_tab_num",
                "parm_unit": "",
                "parm_value": 10
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "table_type"
            }
        ],
        "rule_desc": "\u5206\u533a\u8868\u6570\u91cf\u8fc7\u591a",
        "rule_name": "COUNT_SUMPART_FULL_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select distinct s.table_name, 'PART_TABLE' as table_type from dba_tab_partitions s, (select t.owner owner, count(1) from DBA_TABles t where t.partitioned = 'YES'  and t.owner = '@username@' and t.table_name not like 'BIN$%' group by t.owner having count(1) > @part_tab_num@ ) a where s.table_owner = a.owner and s.table_name not like 'BIN$%'",
        "rule_status": "ON",
        "rule_summary": "\u5206\u533a\u8868\u8fc7\u591a,\u5e38\u89c1\u539f\u56e0\u662f\u5927\u8868\u8f83\u591a\u3002\u56e0\u6839\u636e\u9700\u6c42,\u8003\u8651\u8fdb\u884c\u5782\u76f4\u62c6\u5206,\u51cf\u5c0f\u5355\u5e93\u89c4\u6a21\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u91cd\u65b0\u5408\u7406\u5b9a\u4e49\u5206\u533a\u952e",
            "2.\u5782\u76f4\u62c6\u5206,\u51cf\u5c11\u5355\u5e93\u89c4\u6a21"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae8",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "PART_TABLE",
        "input_parms": [
            {
                "parm_desc": "\u590d\u5408\u5206\u533a\u4e2a\u6570",
                "parm_name": "subpart_tab_num",
                "parm_value": 200,
                "parm_unit": ""
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_name": "title2",
                "parm_desc": "part_name"
            },
            {
                "parm_desc": "\u5b50\u5206\u533a\u6570\u91cf",
                "parm_name": "subpart_count"
            }
        ],
        "rule_desc": "\u590d\u5408\u5206\u533a\u6570\u91cf\u8fc7\u591a",
        "rule_name": "COUNT_SUBPART_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select t.table_owner||'.'||t.table_name, t.partition_name, count(1) from DBA_TAB_SUBPARTITIONS t  where t.table_owner = '@username@' group by t.table_owner||'.'||t.table_name, t.partition_name having count(1) >= @subpart_tab_num@",
        "rule_status": "ON",
        "rule_summary": "\u590d\u5408\u5206\u533a\u6570\u91cf\u8fc7\u591a",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u91cd\u65b0\u5408\u7406\u5b9a\u4e49\u5206\u533a\u952e"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcae9",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "PART_TABLE",
        "input_parms": [
            {
                "parm_value": 200,
                "parm_desc": "\u5206\u533a\u4e2a\u6570",
                "parm_name": "part_tab_num",
                "parm_unit": ""
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "part_tab_num"
            }
        ],
        "rule_desc": "\u5206\u533a\u6570\u91cf\u8fc7\u591a",
        "rule_name": "COUNT_SUMPART_SINGLE_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select t.table_owner||'.'||t.table_name, count(1)  from DBA_TAB_PARTITIONS t where t.table_owner = '@username@' group by t.table_owner||'.'||t.table_name having count(1) >= @part_tab_num@",
        "rule_status": "ON",
        "rule_summary": "\u5206\u533a\u8868\u4e2d\u5206\u533a\u6570\u91cf\u8fc7\u591a,\u5c06\u5bfc\u81f4\u6574\u4f53\u7ef4\u62a4\u6210\u672c\u8fc7\u9ad8,\u53ef\u8c03\u6574\u5206\u533a\u7c92\u5ea6\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5408\u7406\u5b9a\u4e49\u5206\u533a\u952e",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaea",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "DBLINK",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "dblink\u540d\u5b57",
                "parm_name": "dblink_name"
            },
            {
                "parm_name": "username",
                "parm_desc": "\u8bbf\u95ee\u7684\u7528\u6237"
            },
            {
                "parm_desc": "\u8bbf\u95ee\u7684\u4e3b\u673a",
                "parm_name": "hostname"
            }
        ],
        "rule_desc": "\u5b58\u5728DBLINK",
        "rule_name": "DBLINKS_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "select db_link, username, host from dba_db_links where owner = '@username@'",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728DBLINK",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u7981\u7528dblink,\u5728\u5e94\u7528\u7a0b\u5e8f\u7aef\u8fde\u63a5\u591a\u4e2a\u6570\u636e\u5e93\u64cd\u4f5c"
        ],
        "weight": 10.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaeb",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "F_INDEX",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            },
            {
                "parm_desc": "\u7d22\u5f15\u63cf\u8ff0",
                "parm_name": "index_describe"
            }
        ],
        "rule_desc": "\u4f7f\u7528\u51fd\u6570\u7d22\u5f15",
        "rule_name": "IDX_FUNC",
        "rule_complexity": "simple",
        "rule_cmd": "select t.owner||'.'||t.INDEX_NAME, t.INDEX_TYPE, t.TABLE_NAME, s.COLUMN_EXPRESSION from dba_indexes t, dba_ind_expressions s where t.index_name = s.index_name and t.table_name = s.TABLE_name  and t.index_name not like 'BIN%'  and t.owner = '@username@' and t.index_type like '%FUNCTION%' order by t.table_name, t.index_name",
        "rule_status": "ON",
        "rule_summary": "\u662f\u5426\u4f7f\u7528\u51fd\u6570\u7d22\u5f15",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u51fd\u6570\u5728\u8868\u8fbe\u5f0f\u53f3\u4fa7\u5b9e\u73b0",
            "2.\u5e94\u7528\u7a0b\u5e8f\u66ff\u6362\u6570\u636e\u5e93\u51fd\u6570"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaec",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "GLOBAL_INDEX",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u5b58\u5728\u5168\u5c40\u5206\u533a\u7d22\u5f15",
        "rule_name": "GLOBAL_PART_INDEX",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT INDEX_NAME, TABLE_NAME FROM DBA_PART_INDEXES X WHERE X.OWNER = '@username@' AND X.LOCALITY = 'GLOBAL'",
        "rule_status": "ON",
        "rule_summary": "\u5168\u5c40\u5206\u533a\u7d22\u5f15,\u5b58\u5728\u7ef4\u62a4\u6210\u672c\u8f83\u9ad8\u95ee\u9898\u3002\u5f53\u5206\u533a\u53d1\u751f\u53d8\u5316\u662f,\u9700\u8981\u7ef4\u62a4\u5168\u5c40\u7d22\u5f15\u7684\u6709\u6548\u6027\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u9020\u672c\u5730\u5206\u533a\u7d22\u5f15"
        ],
        "weight": 0.3,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaed",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TRIGGER",
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_name": "trigger_name",
                "parm_desc": "\u89e6\u53d1\u5668\u540d\u79f0"
            },
            {
                "parm_desc": "\u7c7b\u578b",
                "parm_name": "obj_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u89e6\u53d1\u5668",
        "rule_name": "TRIGGERS_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "select trigger_name, 'TRIGGER' as type from dba_triggers where owner = '@username@'",
        "rule_status": "ON",
        "rule_summary": "\u89e6\u53d1\u5668,\u5c06\u5f71\u54cd\u6570\u636e\u5e93\u7684\u5f02\u6784\u8fc1\u79fb\u80fd\u529b\u3002\u5982\u6709\u6570\u636e\u4e00\u81f4\u6027\u7ef4\u62a4\u9700\u6c42,\u8bf7\u4ece\u5e94\u7528\u7aef\u7ed9\u4e88\u8003\u8651\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5728\u5e94\u7528\u7aef\u5b9e\u73b0\u89e6\u53d1\u5668\u529f\u80fd"
        ],
        "weight": 5.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaee",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u5927\u8868\u6570\u91cf\u5360\u6240\u6709\u8868\u6570\u91cf\u7684\u6bd4\u7387",
                "parm_name": "tab_phy_size",
                "parm_unit": "MB",
                "parm_value": 2048
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "big_tab_count",
                "parm_desc": "\u5927\u8868\u6570\u91cf"
            },
            {
                "parm_desc": "\u6240\u6709\u8868\u6570\u91cf",
                "parm_name": "table_count"
            },
            {
                "parm_desc": "\u6bd4\u7387",
                "parm_name": "big_tab_ratio"
            }
        ],
        "rule_desc": "\u5927\u8868\u6570\u91cf\u8fc7\u591a",
        "rule_name": "BIG_TABLE_COUNT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b,\u8d85\u8fc7\u6307\u5b9a\u7269\u7406\u5927\u5c0f\u7684\u8868\u540d",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u5206\u5e93,\u5206\u8868,\u5206\u533a",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 0.25,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaef",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "B_INDEX",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_name": "index_type",
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u5217",
                "parm_name": "idx_col_name"
            }
        ],
        "rule_desc": "\u662f\u5426\u4f7f\u7528\u4f4d\u56fe\u7d22\u5f15",
        "rule_name": "IDX_BITMAP",
        "rule_complexity": "simple",
        "rule_cmd": "select t.owner||'.'||t.INDEX_NAME, t.INDEX_TYPE, t.TABLE_NAME, s.column_name from dba_indexes t, dba_ind_columns s where t.owner = s.table_owner and t.index_name = s.index_name and t.index_name not like 'BIN%' and t.owner = '@username@' and t.index_type = 'BITMAP' order by t.table_name, t.index_name",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b\u6240\u6709\u7d22\u5f15\u7684\u7c7b\u578b,\u5e76\u5224\u65ad\u662f\u5426\u4e3a\u4f4d\u56fe\u7d22\u5f15\u3002\u82e5\u8868\u5bf9\u8c61\u6709\u9891\u7e41\u7684DML\u64cd\u4f5c,\u4f4d\u56fe\u7d22\u5f15\u4f1a\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u963b\u585e\u76f8\u5173\u64cd\u4f5c\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "OLTP\u5728\u7ebf\u4ea4\u6613\u7cfb\u7edf\u7981\u7528\u4f4d\u56fe\u7d22\u5f15"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf0",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u7528\u6237\u540d",
                "parm_name": "owner"
            },
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u540d",
                "parm_name": "column_name"
            }
        ],
        "rule_desc": "\u5305\u542b\u6709\u5927\u5b57\u6bb5\u7c7b\u578b\u7684\u8868",
        "rule_name": "TABLE_LOB",
        "rule_complexity": "simple",
        "rule_cmd": "select owner,table_name,column_name from dba_lobs where owner='@username@'",
        "rule_status": "ON",
        "rule_summary": "\u5927\u5bf9\u8c61\u5b57\u6bb5\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u5e94\u5c3d\u91cf\u907f\u514d\u7684\u3002\u5982\u6709\u9700\u8981,\u53ef\u8003\u8651\u5728\u5916\u90e8\u8fdb\u884c\u5b58\u50a8\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5efa\u8bae\u5728\u6570\u636e\u5e93\u5916\u90e8\u8fdb\u884c\u5b58\u50a8\u5927\u5b57\u6bb5"
        ],
        "weight": 0.3,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf1",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "INDEX",
        "input_parms": [
            {
                "parm_desc": "\u7ec4\u5408\u7d22\u5f15\u767e\u5206\u6bd4",
                "parm_name": "com_idx_percent",
                "parm_unit": "",
                "parm_value": 30
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_name": "column_name",
                "parm_desc": "\u5217\u540d"
            },
            {
                "parm_desc": "\u5217\u987a\u5e8f",
                "parm_name": "col_position"
            }
        ],
        "rule_desc": "\u7ec4\u5408\u7d22\u5f15\u6570\u91cf\u8fc7\u591a\u6216\u6ca1\u6709\u7d22\u5f15",
        "rule_name": "COMBINED_INDEX_PERCENT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u7ec4\u5408\u7d22\u5f15\u8fc7\u591a,\u5c06\u5bfc\u81f4\u7a7a\u95f4\u6d88\u8017\u8f83\u5927\u3001\u7d22\u5f15\u7ef4\u62a4\u6210\u672c\u8f83\u9ad8\u3002\u5e94\u8003\u8651\u6784\u5efa\u6218\u7565\u6027\u7d22\u5f15\u7ed3\u6784,\u4e0d\u8981\u9488\u5bf9\u6bcf\u4e2a\u9700\u6c42\u90fd\u901a\u8fc7\u521b\u5efa\u7d22\u5f15\u89e3\u51b3\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u6784\u5efa\u6218\u7565\u6027\u7d22\u5f15\u7ed3\u6784,\u4e0d\u8981\u9488\u5bf9\u6bcf\u4e2a\u9700\u6c42\u90fd\u901a\u8fc7\u521b\u5efa\u7d22\u5f15\u89e3\u51b3",
            "2.\u6ce8\u610f\u5217\u5728\u6240\u6709\u7684\u987a\u5e8f"
        ],
        "weight": 0.1,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf2",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u5206\u533a\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u5206\u533a\u952e",
                "parm_name": "obj_info_key"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "obj_info_part_num"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5206\u533a\u5168\u626b\u63cf",
        "rule_name": "SQL_PARTITION_RANGE_ALL",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PARTITION RANGE\",\"OPTIONS\":\"ALL\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@sql@.find({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":{$eq:x.ID+1}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":x.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u5206\u533a\u5168\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5206\u533a\u952e\u8bbe\u8ba1\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.5,
        "obj_info_type": "PART_TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf3",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u7269\u7406\u5927\u5c0f",
                "parm_name": "ind_phy_size",
                "parm_unit": "MB",
                "parm_value": 100.0
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u4e0d\u540c\u503c\u7684\u6570\u91cf",
                "parm_name": "obj_info_dist_num"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u662f\u5426\u4e3aunique",
                "parm_name": "obj_info_uniqueness"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "obj_info_blevel"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "obj_info_tab_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u805a\u7c07\u56e0\u5b50",
                "parm_name": "obj_info_cluster_factor"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u6267\u884c\u8ba1\u5212\u4e2d\u7d22\u5f15\u5feb\u901f\u5168\u626b",
        "rule_name": "SQL_INDEX_FAST_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"INDEX\",\"OPTIONS\":\"FAST FULL SCAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){if(db.obj_ind_info.findOne({\"INDEX_NAME\":x.OBJECT_NAME,\"PHY_SIZE(MB)\":{$gt:@ind_phy_size@}}))db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5927\u7d22\u5f15\u5feb\u901f\u5168\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "SQL\u903b\u8f91\u80fd\u5426\u6539\u5199\u83b7\u53d6\u66f4\u5c11\u7684\u6570\u636e"
        ],
        "weight": 0.5,
        "obj_info_type": "INDEX",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf4",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u5206\u533a\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u5206\u533a\u952e",
                "parm_name": "obj_info_key"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "obj_info_part_num"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u8de8\u5206\u533a\u626b\u63cf",
        "rule_name": "SQL_PARTITION_RANGE_ITERATOR",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PARTITION RANGE\",\"OPTIONS\":\"ITERATOR\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@sql@.find({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":{$eq:x.ID+1},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":x.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u8de8\u5206\u533a\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5206\u533a\u952e\u8bbe\u8ba1\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.5,
        "obj_info_type": "PART_TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf5",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u8868\u7269\u7406\u5927\u5c0f",
                "parm_name": "table_phy_size",
                "parm_unit": "MB",
                "parm_value": 2048
            },
            {
                "parm_desc": "\u8868\u884c\u6570",
                "parm_name": "table_row_num",
                "parm_unit": "",
                "parm_value": 100000
            }
        ],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5168\u8868\u626b\u63cf",
        "rule_name": "SQL_TABLE_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"TABLE ACCESS\",\"OPTIONS\":\"FULL\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){if(db.obj_tab_info.findOne({\"TABLE_NAME\":x.OBJECT_NAME,$or: [{\"NUM_ROWS\":{$gt:@table_row_num@}},{\"PHY_SIZE(MB)\":{$gt:@table_phy_size@}}]}))db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5168\u8868\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "1.\u7f3a\u7d22\u5f15\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "2.\u53d6max\u3001min\u503c\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "3.\u7d22\u5f15\u5931\u6548\u91cd\u5efa\u7d22\u5f15,\u5206\u533a\u8868\u7ef4\u62a4\u8bb0\u5f97\u7ef4\u62a4\u7d22\u5f15",
            "4.\u5bf9\u6761\u4ef6\u5b57\u6bb5\u4f7f\u7528\u51fd\u6570\u6216\u8868\u8fbe\u5f0fa.\u51fd\u6570\u3001\u8868\u8fbe\u5f0f\u653e\u5230\u7b49\u4e8e\u53f7\u7684\u53f3\u8fb9b.\u521b\u5efa\u51fd\u6570\u7d22\u5f15(\u4e0b\u7b56)",
            "5.\u51fa\u73b0\u9690\u5f0f\u8f6c\u6362a.\u4e0d\u540c\u7c7b\u578b\u7684\u8c13\u8bcd\u5339\u914d\u5148\u663e\u5f0f\u8f6c\u6362b.\u8868\u5b9a\u4e49\u6839\u636e\u6570\u636e\u9009\u62e9\u6b63\u786e\u7684\u6570\u636e\u7c7b\u578b",
            "6.\u4f7f\u7528isNULL\u505a\u67e5\u8be2\u6761\u4ef6a.\u4e0d\u5efa\u8bae\u4f7f\u7528null\u503cb.null\u503c\u8f83\u5c11\u7684\u60c5\u51b5\u53ef\u521b\u5efa\u7ec4\u5408\u7d22\u5f15\u6216\u8005\u4f2a\u5217\u7d22\u5f15(createindexidx_1ontab1(col1,0)c.\u5c06null\u5b9a\u4e49\u4e00\u4e2a\u666e\u901a\u53d8\u91cf",
            "7.\u4f7f\u7528\u4e0d\u7b49\u8fd0\u7b97\u7b26<>!=\u505a\u67e5\u8be2\u6761\u4ef6a.\u5c3d\u91cf\u5c11\u7528\u4e0d\u7b49\u5224\u65ad\uff1bb.\u5982\u679c\u5217\u503c\u662f\u8fde\u7eed,\u53ef\u628a\u5426\u5b9a\u64cd\u4f5c\u66f4\u6539\u4e3a\u4e24\u4e2a\u533a\u95f4\uff1bc.\u5982\u679c\u5217\u503c\u4e0d\u591a,\u53ef\u7528inlist\u679a\u4e3e\u5176\u4ed6\u6240\u6709\u503c",
            "8.'\uff05a\uff05''\uff05a'\u5efa\u8bae\u7cbe\u786e\u5339\u914d",
            "9.sql\u903b\u8f91,\u6bd4\u5982\u6700\u5927\u503c,\u6539\u7528\u7a97\u53e3\u51fd\u6570",
            "10.\u5f31\u9009\u62e9sql,\u8fd4\u56de\u7ed3\u679c\u96c6\u8f83\u5927\u5efa\u8baea.\u6dfb\u52a0\u66f4\u591a\u7684\u8c13\u8bcd\u51cf\u5c11\u6570\u636e\u7684\u8bbf\u95ee,\u6bd4\u5982\u65f6\u95f4b.\u6539\u9020\u5206\u533a\u8868c.\u4f7f\u7528\u8986\u76d6\u7d22\u5f15",
            "11.hintfull\u7981\u7528hint1",
            "12.\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\u6570\u636e\u6279\u91cf\u52a0\u8f7d\u7a0b\u5e8f\u89e6\u53d1\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f"
        ],
        "weight": 0.5,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf6",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u7b1b\u5361\u5c14\u79ef\u5173\u8054",
        "rule_name": "SQL_MERGE_JOIN_CARTESIAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"MERGE JOIN\",\"OPTIONS\":\"CARTESIAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u7b1b\u5361\u5c14\u79ef",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "1.\u8868\u5173\u8054\u6761\u4ef6\u7f3a\u5931,\u52a0\u4e0a\u5173\u8054\u6761\u4ef6",
            "2.\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e,\u624b\u5de5\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f"
        ],
        "weight": 0.1,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf7",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "INDEX",
        "input_parms": [
            {
                "parm_desc": "\u805a\u7c07\u56e0\u5b50\u4e0e\u8868\u8bb0\u5f55\u6570\u6bd4\u7387",
                "parm_name": "cluster_row_ratio",
                "parm_unit": "",
                "parm_value": 3
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_name": "idx_clustering_factor",
                "parm_desc": "\u805a\u7c07\u56e0\u5b50"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u8868\u8bb0\u5f55\u6570",
                "parm_name": "row_num"
            },
            {
                "parm_desc": "\u6bd4\u7387",
                "parm_name": "cluster_row_ratio"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u7684\u805a\u7c07\u56e0\u5b50",
        "rule_name": "IDX_CLUSTERING_FACTOR",
        "rule_complexity": "simple",
        "rule_cmd": "select * from (select owner||'.'||index_name,type,CLUSTERING_FACTOR,table_name,NUM_ROWS,ceil(NUM_ROWS / CLUSTERING_FACTOR) as ratio from (select distinct t.INDEX_NAME,t.OWNER,decode(INDEX_TYPE,'NORMAL','B-tree',decode(index_type,'BITMAP','BitMap',decode(INDEX_TYPE,'FUNCTION-BASED NORMAL', 'Func',decode(table_type,'IOT','IOT',decode(index_type,'LOB','Lob'))))) as type,t.TABLE_NAME,decode(t.CLUSTERING_FACTOR,0,1,decode(t.clustering_factor,'',1,t.clustering_factor)) as CLUSTERING_FACTOR, u.NUM_ROWS from dba_indexes t, dba_tables u where u.table_name = t.table_name and t.OWNER = u.OWNER and t.index_name not like 'BIN%' and t.owner = '@username@' order by t.table_name, t.index_name)) where ratio >@cluster_row_ratio@",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b\u6240\u6709\u7d22\u5f15\u5bf9\u8c61\u7684\u805a\u7c07\u56e0\u5b50\u60c5\u51b5\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u91cd\u65b0\u5b9a\u4e49\u8868\u7684\u5b57\u6bb5\u7c7b\u578b",
            "2.\u8868\u6570\u636e\u91cd\u65b0\u5b58\u50a8"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf8",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u4e0d\u540c\u503c\u7684\u6570\u91cf",
                "parm_name": "obj_info_dist_num"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u662f\u5426\u4e3aunique",
                "parm_name": "obj_info_uniqueness"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "obj_info_blevel"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            },
            {
                "parm_desc": "\u5217\u540d",
                "parm_name": "obj_info_col_name"
            },
            {
                "parm_desc": "\u5217\u7684\u4f4d\u7f6e",
                "parm_name": "obj_info_col_post"
            }
        ],
        "rule_desc": "\u6267\u884c\u8ba1\u5212\u4e2d\u5b58\u5728\u7d22\u5f15\u8df3\u63cf",
        "rule_name": "SQL_INDEX_SKIP_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"INDEX\",\"OPTIONS\":\"SKIP SCAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u8df3\u8dc3\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u7d22\u5f15\u5217\u7684\u5148\u540e\u987a\u5e8f\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.1,
        "obj_info_type": "INDEX",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaf9",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u7269\u7406\u5927\u5c0f",
                "parm_name": "ind_phy_size",
                "parm_unit": "MB",
                "parm_value": 1024.0
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u4e0d\u540c\u503c\u7684\u6570\u91cf",
                "parm_name": "obj_info_dist_num"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u662f\u5426\u4e3aunique",
                "parm_name": "obj_info_uniqueness"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "obj_info_blevel"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u6267\u884c\u8ba1\u5212\u4e2d\u7d22\u5f15\u5168\u626b",
        "rule_name": "SQL_INDEX_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"INDEX\",\"OPTIONS\":\"FULL SCAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){if(db.obj_ind_info.findOne({\"INDEX_NAME\":x.OBJECT_NAME,\"PHY_SIZE(MB)\":{$gt:@ind_phy_size@}}))db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5927\u7d22\u5f15\u5168\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "SQL\u903b\u8f91\u80fd\u5426\u6539\u5199\u83b7\u53d6\u66f4\u5c11\u7684\u6570\u636e"
        ],
        "weight": 1.0,
        "obj_info_type": "INDEX",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcafa",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u5206\u533a\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u5206\u533a\u952e",
                "parm_name": "obj_info_key"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "obj_info_part_num"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u975e\u8fde\u7eed\u5206\u533a\u626b\u63cf",
        "rule_name": "SQL_PARTITION_RANGE_INLIST_OR",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PARTITION RANGE\",$or: [{\"OPTIONS\":\"INLIST\"},{\"OPTIONS\":\"OR\"}],\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@sql@.find({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":{$eq:x.ID+1}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":x.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u975e\u8fde\u7eed\u5206\u533a\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5206\u533a\u952e\u8bbe\u8ba1\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.5,
        "obj_info_type": "PART_TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcafb",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u5173\u8054\u8868\u7684\u6570\u91cf",
                "parm_name": "tab_num",
                "parm_unit": "",
                "parm_value": 5
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u8fc7\u591a\u7684\u8868\u5173\u8054",
        "rule_name": "SQL_TAB_REL_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.group( { key:{\"USERNAME\":1,\"ETL_DATE\":1,\"SQL_ID\":1,\"PLAN_HASH_VALUE\":1,\"OBJECT_TYPE\":1}, cond:{\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",\"OBJECT_TYPE\":\"TABLE\"}, reduce:function(curr,result){ result.count++; }, initial:{count:0} } ).forEach(function(x){db.@tmp1@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":x.ID,\"COUNT\":x.count})});db.@tmp1@.find({\"COUNT\":{$gte:@tab_num@}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"ID\":y.ID,\"COUNT\":y.COUNT,\"COST\":\"\",\"OBJECT_NAME\":\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u8fc7\u591a\u7684\u8868\u5173\u8054,\u5f71\u54cd\u6027\u80fd",
        "rule_type": "SQLPLAN",
        "rule_type_detail": null,
        "solution": [
            "\u5efa\u8bae\u51cf\u5c11\u8868\u5173\u8054,\u4e1a\u52a1\u903b\u8f91sql\u6539\u5199"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcafc",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u7ea6\u675f\u540d",
                "parm_name": "constraint_name"
            },
            {
                "parm_name": "\u5217\u540d",
                "parm_desc": "column_name"
            },
            {
                "parm_desc": "\u5173\u8054\u8868",
                "parm_name": "rel_tab_name"
            },
            {
                "parm_desc": "\u5173\u8054\u7ea6\u675f\u540d",
                "parm_name": "rel_con_name"
            }
        ],
        "rule_desc": "\u8868\u4e2d\u5b58\u5728\u5916\u952e\u7ea6\u675f",
        "rule_name": "TAB_EXISTS_FK",
        "rule_complexity": "simple",
        "rule_cmd": "select c.table_name,  c.constraint_name,  t.column_name, (select distinct a.table_name  from dba_constraints a  where a.constraint_name = c.r_constraint_name and a.owner = c.owner) r_table_name, c.r_constraint_name   from dba_constraints c, dba_cons_columns t  where t.owner = c.owner  and t.constraint_name = c.constraint_name and c.owner = '@username@'   and c.table_name not like 'BIN$%'  and c.constraint_type = 'R'",
        "rule_status": "ON",
        "rule_summary": "\u8868\u4e2d\u5b58\u5728\u5916\u952e\u7ea6\u675f",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5e94\u7528\u7a0b\u5e8f\u5b9e\u73b0\u5916\u952e\u7ea6\u675f,\u4e0d\u5efa\u8bae\u5728\u6570\u636e\u5e93\u91cc\u9762\u4f7f\u7528\u5916\u952e\u7ea6\u675f"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcafd",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "\u5b58\u5728\u5e76\u884c\u8bbf\u95ee\u7279\u5f81",
        "rule_name": "SQL_PARALLEL_FETCH",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PX COORDINATOR\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728\u5e76\u884c\u8bbf\u95ee\u7279\u5f81",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u53d6\u6d88\u8868\u3001\u7d22\u5f15\u3001sql\u4e2d\u7684\u5e76\u884c\u8bbe\u7f6e"
        ],
        "weight": 1.0,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcafe",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u9690\u5f0f\u8f6c\u6362",
        "rule_name": "SQL_TO_CHANGE_TYPE",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({FILTER_PREDICATES:/SYS_OP/,USERNAME:\"@username@\",ETL_DATE:\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({SQL_ID:x.SQL_ID,PLAN_HASH_VALUE:x.PLAN_HASH_VALUE,OBJECT_NAME:x.OBJECT_NAME,ID:x.ID,COST:x.COST,COUNT:\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u9690\u5f0f\u8f6c\u6362",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "1.\u663e\u793a\u8f6c\u6362",
            "2.\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u7c7b\u578b"
        ],
        "weight": 0.5,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcaff",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "view\u5bf9\u8c61\u7684\u540d\u79f0",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "view\u5173\u8054\u5bf9\u8c61\u7684owner",
                "parm_name": "obj_info_rel_owner"
            },
            {
                "parm_desc": "view\u5173\u8054\u5bf9\u8c61\u7684\u540d\u79f0",
                "parm_name": "obj_info_rel_name"
            },
            {
                "parm_desc": "view\u5173\u8054\u5bf9\u8c61\u7684\u7c7b\u578b",
                "parm_name": "obj_info_rel_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u89c6\u56fe\u8bbf\u95ee",
        "rule_name": "SQL_VIEW_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OBJECT_TYPE\":\"VIEW\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",\"OBJECT_OWNER\":{$ne:null},\"OBJECT_NAME\":/^index$_join$/}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728\u89c6\u56fe\u8bbf\u95ee",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u89c6\u56fe\u4e0d\u80fd\u5c55\u5f00,\u590d\u6742\u89c6\u56fe\u62c6\u89e3\u3001\u6539\u5199"
        ],
        "weight": 0.5,
        "obj_info_type": "VIEW",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb00",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "buffer gets",
                "parm_name": "buffer_gets",
                "parm_unit": "bytes",
                "parm_value": 1000
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6d88\u8017\u903b\u8f91\u8bfb\u8fc7\u9ad8",
        "rule_name": "SQL_BUFFER_GETS",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_BUFFER_GETS\":{$gte:@buffer_gets@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "sql\u6267\u884c buffer get\u8fc7\u5927",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "1.\u5bf9sql\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u5206\u6790\u5e76\u8fdb\u884c\u4f18\u5316",
            "2.SQL\u6267\u884c\u6b21\u6570\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb01",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "INDEX",
        "input_parms": [
            {
                "parm_name": "idx_level",
                "parm_value": 3,
                "parm_unit": "",
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6"
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "index_level"
            },
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u5bf9\u8c61\u9ad8\u5ea6\u8fc7\u9ad8",
        "rule_name": "IDX_BLEVEL",
        "rule_complexity": "simple",
        "rule_cmd": "select index_name, type, idx_blevel, table_name from (select distinct t.owner||'.'||t.INDEX_NAME as INDEX_NAME,decode(INDEX_TYPE,'NORMAL','B-tree',decode(index_type,'BITMAP','BitMap',decode(INDEX_TYPE,'FUNCTION-BASED NORMAL','Func',decode(table_type,'IOT','IOT',decode(index_type,'LOB','Lob'))))) as type, t.TABLE_NAME,t.blevel as idx_blevel from dba_indexes t   where t.index_name not like 'BIN%'  and t.owner = '@username@' and t.blevel > @idx_level@  order by t.table_name, t.owner||'.'||t.index_name)",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u5bf9\u8c61\u9ad8\u5ea6",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u91cd\u6784\u8868\u7684\u5b57\u6bb5\u6216\u7d22\u5f15",
            "2.\u91cd\u5efa\u7d22\u5f15"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb02",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u5b50\u6e38\u6807\u7684\u6570\u91cf",
                "parm_name": "cursor_num",
                "parm_unit": "",
                "parm_value": 30
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u5b50\u6e38\u6807\u8fc7\u591a",
        "rule_name": "SQL_SUB_CURSOR_COUNT",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"VERSION_COUNT\":{$gte:@cursor_num@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "\u5b50\u6e38\u6807\u8fc7\u591a",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "SQLSTAT_CURSOR",
        "solution": [
            "\u53c2\u8003 SQLs With Bind Variable Has Very High Version Count (Doc ID 258742.1)\u5b9a\u4f4d\u539f\u56e0"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb03",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u8868\u7269\u7406\u5927\u5c0f",
                "parm_name": "table_phy_size",
                "parm_unit": "MB",
                "parm_value": 1024.0
            },
            {
                "parm_desc": "\u8868\u884c\u6570",
                "parm_name": "table_row_num",
                "parm_unit": "",
                "parm_value": 5000
            }
        ],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5d4c\u5957\u5faa\u73af\u5185\u5c42\u8868\u5168\u626b",
        "rule_name": "LOOP_IN_TAB_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({$or: [{\"OPERATION\":/NESTED LOOP/},{\"OPERATION\":/FILTER/}],\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({SQL_ID:x.SQL_ID,PLAN_HASH_VALUE:x.PLAN_HASH_VALUE,PARENT_ID:x.ID,USERNAME:x.USERNAME,ETL_DATE:x.ETL_DATE});});db.@tmp@.find().forEach(  function(x){  db.sqlplan.find({SQL_ID:x.SQL_ID,PLAN_HASH_VALUE:x.PLAN_HASH_VALUE,PARENT_ID:x.PARENT_ID,USERNAME:x.USERNAME,ETL_DATE:x.ETL_DATE}).forEach(function(y){db.@tmp1@.save({SQL_ID:y.SQL_ID,PLAN_HASH_VALUE:y.PLAN_HASH_VALUE,OBJECT_NAME:y.OBJECT_NAME,ID:y.ID,PARENT_ID:y.PARENT_ID,OPERATION:y.OPERATION,OPTIONS:y.OPTIONS,USERNAME:y.USERNAME,ETL_DATE:y.ETL_DATE})});});db.@tmp@.drop();db.@tmp1@.aggregate([{$group:{_id:{PARENT_ID:\"$PARENT_ID\",SQL_ID:\"$SQL_ID\",PLAN_HASH_VALUE:\"$PLAN_HASH_VALUE\"},MAXID: {$max:\"$ID\"}}}]).forEach(function(z){db.sqlplan.find({SQL_ID:z._id.SQL_ID,PLAN_HASH_VALUE:z._id.PLAN_HASH_VALUE,$and:[{ID:z.MAXID},{ID:{$ne:2}}],\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",OPERATION:\"TABLE ACCESS\",OPTIONS:\"FULL\"}).forEach(function(y){if(db.obj_tab_info.findOne({\"OWNER\":y.OBJECT_OWNER,\"ETL_DATE\":y.ETL_DATE,\"TABLE_NAME\":y.OBJECT_NAME,$or: [{\"NUM_ROWS\":{$gt:@table_row_num@}},{\"PHY_SIZE(MB)\":{$gt:@table_phy_size@}}]}))db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":y.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u5d4c\u5957\u5faa\u73af\u5185\u5c42\u8868\u8bbf\u95ee\u65b9\u5f0f\u4e3a\u5168\u8868\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5173\u8054\u5217\u521b\u5efa\u7d22\u5f15"
        ],
        "weight": 1.0,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb04",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u8868\u5d4c\u5957\u7684\u5c42\u6b21",
                "parm_name": "loop_num",
                "parm_unit": "",
                "parm_value": 3
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5d4c\u5957\u5c42\u6b21\u8fc7\u6df1",
        "rule_name": "SQL_LOOP_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.group( { key:{\"USERNAME\":1,\"ETL_DATE\":1,\"SQL_ID\":1,\"PLAN_HASH_VALUE\":1}, cond:{\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",$or: [{\"OPERATION\":/NESTED LOOP/},{\"OPERATION\":/FILTER/}]}, reduce:function(curr,result){ result.count++; }, initial:{count:0} } ).forEach(function(x){db.@tmp1@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"COUNT\":x.count})});db.@tmp1@.find({\"COUNT\":{$gte:\"@loop_num@\"}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"ID\":y.ID,\"COUNT\":x.COUNT,\"COST\":\"\",\"OBJECT_NAME\":\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u5d4c\u5957\u5c42\u6b21\u8fc7\u6df1",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u6539\u5199sql\u903b\u8f91\u51cf\u5c11\u8868\u5173\u8054\u7684\u6570\u91cf"
        ],
        "weight": 1.0,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb05",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "table_type"
            },
            {
                "parm_desc": "\u5e76\u884c\u5ea6",
                "parm_name": "parallel_count"
            }
        ],
        "rule_desc": "\u8868\u5bf9\u8c61\u5f00\u542f\u5e76\u884c\u8bbf\u95ee",
        "rule_name": "TAB_PARALLEL_ON",
        "rule_complexity": "simple",
        "rule_cmd": "select t.table_name, decode(t.partitioned, 'YES', 'PART',  decode(t.temporary, 'Y', 'TEMP', decode (t.iot_type,'IOT','IOT','NORMAL'))) table_type, t.degree from dba_tables t  where t.table_name not like 'BIN%'  and t.owner = '@username@' and to_number(replace(ltrim(t.degree),'DEFAULT',0))  > 1 order by table_type,table_name",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b\u6240\u6709\u8868\u5bf9\u8c61\u7684\u5e76\u884c\u5ea6\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5173\u95ed\u8868\u7684\u5e76\u884c\u5ea6alter table TABLENAME noparallel"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb06",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u8868\u5927\u5c0f",
                "parm_name": "tab_phy_size",
                "parm_value": 2,
                "parm_unit": "GB"
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u8868\u5927\u5c0f",
                "parm_name": "tab_phy_size"
            }
        ],
        "rule_desc": "\u8d85\u8fc7\u6307\u5b9a\u89c4\u6a21\u4e14\u6ca1\u6709\u5206\u533a\u7684\u8868",
        "rule_name": "BIG_TABLE",
        "rule_complexity": "simple",
        "rule_cmd": "select * from (select owner||'.'||segment_name as table_name,round(sum(bytes) / 1024 / 1024 / 1024, 2) as tab_phy_size from dba_segments where segment_type = 'TABLE' and owner = '@username@'  and segment_name not like 'BIN$%'  group by owner||'.'||segment_name) a  where tab_phy_size > @tab_phy_size@",
        "rule_status": "ON",
        "rule_summary": "\u8868\u7684\u89c4\u6a21\u8fc7\u5927,\u5c06\u5f71\u54cd\u8868\u7684\u8bbf\u95ee\u6548\u7387\u3001\u589e\u52a0\u7ef4\u62a4\u6210\u672c\u7b49\u3002\u5e38\u89c1\u7684\u89e3\u51b3\u65b9\u6848\u5c31\u662f\u4f7f\u7528\u5206\u533a\u8868,\u5c06\u5927\u8868\u8f6c\u6362\u4e3a\u5206\u533a\u8868\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u5206\u5e93,\u5206\u8868,\u5206\u533a",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb07",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "INDEX",
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u5b58\u57287\u5929\u5185\u6ca1\u6709\u4f7f\u7528\u7684\u7d22\u5f15",
        "rule_name": "INVALID_INDEX",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT T.OWNER||'.'||T.TABLE_NAME, T.INDEX_NAME  FROM DBA_INDEXES T  WHERE T.OWNER = '@username@' AND NOT EXISTS  (SELECT 1  FROM V$SQL_PLAN S  WHERE S.OBJECT_NAME = T.INDEX_NAME  AND S.OBJECT_OWNER = '@username@')  INTERSECT  SELECT T.TABLE_NAME, T.INDEX_NAME  FROM DBA_INDEXES T  WHERE T.OWNER = '@l_username'  AND NOT EXISTS   (SELECT 1   FROM DBA_HIST_SQL_PLAN P   WHERE P.OBJECT_NAME = T.INDEX_NAME  AND P.OBJECT_OWNER = '@username@')",
        "rule_status": "ON",
        "rule_summary": "\u5728\u6570\u636e\u5e93\u4e00\u6bb5\u65f6\u95f4\u5185,\u8be5\u7d22\u5f15\u6ca1\u6709\u88ab\u4efb\u4f55SQL\u8bed\u53e5\u4f7f\u7528\u3002\u8bf7\u8bc4\u4f30\u6b64\u7d22\u5f15\u7684\u6709\u6548\u6027\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6839\u636e\u4e1a\u52a1\u7279\u70b9,\u6709\u76ee\u7684\u7684\u6dfb\u52a0\u76f8\u5173\u7d22\u5f15"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb08",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u6ca1\u6709\u4e3b\u952e\u7684\u8868",
        "rule_name": "TABLE_MIS_PK",
        "rule_complexity": "simple",
        "rule_cmd": "select a.table_name from dba_tables a where a.owner = '@username@' and a.table_name not like 'BIN$%' minus select b.table_name from dba_constraints b where b.owner = '@username@' and b.table_name not like 'BIN$%' and b.constraint_type = 'P'",
        "rule_status": "ON",
        "rule_summary": "\u4e3b\u952e\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u552f\u4e00\u786e\u5b9a\u4e00\u6761\u8bb0\u5f55\u7684\u4f9d\u636e,\u6ca1\u6709\u4efb\u4f55\u7406\u7531\u4e0d\u5b9a\u4e49\u4e3b\u952e\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5fc5\u987b\u5b9a\u4e49\u4e3b\u952e"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb09",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u5b57\u6bb5\u6570",
                "parm_name": "column_count",
                "parm_unit": "",
                "parm_value": 30
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u6570",
                "parm_name": "column_count"
            }
        ],
        "rule_desc": "\u5927\u4e8e\u9600\u503c\u6570\u91cf\u5b57\u6bb5\u7684\u8868",
        "rule_name": "TABLE_COL_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "select owner||'.'||table_name, count(1)   from dba_tab_cols   where owner = '@username@'   group by owner||'.'||table_name  having count(1) > @column_count@",
        "rule_status": "ON",
        "rule_summary": "\u5b57\u6bb5\u8fc7\u591a,\u4f1a\u5bfc\u81f4\u8bb0\u5f55\u957f\u5ea6\u8fc7\u5927\u3002\u5355\u4e2a\u6570\u636e\u5b58\u50a8\u5355\u5143\u5c06\u4fdd\u5b58\u7684\u8bb0\u5f55\u6570\u8fc7\u5c11,\u5f71\u54cd\u8bbf\u95ee\u6548\u7387\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u8868\u8bbe\u8ba1\u65f6\u5c3d\u91cf\u7b26\u5408\u4e09\u8303\u5f0f\u6765\u907f\u514d\u6570\u636e\u5197\u4f59,\u4f7f\u7528\u9891\u7387\u4f4e\u7684\u5b57\u6bb5\u62c6\u5230\u53e6\u5916\u4e00\u5f20\u8868,\u5fc5\u8981\u65f6\u505a\u8868\u5173\u8054\u53d6\u6570"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb0a",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "record_count",
                "parm_value": 10000000,
                "parm_unit": ""
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d\u79f0"
            },
            {
                "parm_desc": "\u6570\u636e\u91cf",
                "parm_name": "record_count"
            }
        ],
        "rule_desc": "\u5355\u8868\u6216\u5355\u5206\u533a\u8bb0\u5f55\u6570\u91cf\u8fc7\u5927",
        "rule_name": "COUNT_RECORD_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select t.owner||'.'||t.table_name,t.num_rows from DBA_TABLES t  where t.partitioned='NO' and t.owner='@username@' and t.num_rows>@record_count@ union select t.table_name||'.'||t.table_name||':'||t.PARTITION_NAME,t.num_rows  from  dba_tab_PARTITIONS t  where t.table_owner='@username@' and t.num_rows>@record_count@",
        "rule_status": "ON",
        "rule_summary": "\u63a7\u5236\u5355\u4e2a\u8868\u6216\u5355\u4e2a\u5206\u533a\u7684\u6570\u636e\u89c4\u6a21,\u63d0\u9ad8\u5355\u4e00\u5bf9\u8c61\u7684\u8bbf\u95ee\u6548\u7387\u3002\u5982\u8bb0\u5f55\u6570\u8fc7\u591a,\u5e94\u8003\u8651\u5206\u5e93\u3001\u5206\u8868\u3001\u5206\u533a\u7b49\u7b56\u7565\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u5206\u5e93,\u5206\u8868,\u5206\u533a",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb0b",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "cpu\u65f6\u95f4",
                "parm_name": "cpu_time",
                "parm_unit": "\u79d2",
                "parm_value": 100
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6d88\u8017CPU\u65f6\u95f4\u8fc7\u957f",
        "rule_name": "SQL_CPU_TIME",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_CPU_TIME\":{$gte:@cpu_time@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "SQL\u6267\u884c\u6d88\u8017cpu\u65f6\u95f4\u8fc7\u957f",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "1.\u5bf9sql\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u5206\u6790\u5e76\u8fdb\u884c\u4f18\u5316",
            "2.SQL\u6267\u884c\u6b21\u6570\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb0c",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "sql\u6267\u884c\u6b21\u6570",
                "parm_name": "sql_count_num",
                "parm_unit": "\u6b21\u6570",
                "parm_value": 100.0
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6267\u884c\u6b21\u6570\u8fc7\u9ad8",
        "rule_name": "SQL_EXECUTIONS",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"EXECUTIONS\":{$gte:@sql_count_num@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "sql\u6267\u884c\u6b21\u6570",
        "rule_type": "SQLSTAT",
        "rule_type_detail": null,
        "solution": [
            "\u5bf9sql\u6267\u884c\u6b21\u6570\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb0d",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u6267\u884c\u65f6\u95f4",
                "parm_name": "elapsed_time",
                "parm_unit": "\u79d2",
                "parm_value": 100
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6267\u884c\u65f6\u95f4\u8fc7\u957f",
        "rule_name": "SQL_ELAPSED_TIME",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_ELAPSED_TIME\":{$gte:@elapsed_time@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "sql\u6267\u884c\u65f6\u95f4\u8fc7\u957f",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "\u5bf9sql\u6267\u884c\u6b21\u6570\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb0e",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "SQL\u4e2d\u51fa\u73b0union",
        "rule_name": "UNION",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u51fa\u73b0union,\u9632\u6b62\u51fa\u73b0\u4e0d\u5fc5\u8981\u7684\u6392\u5e8f\u52a8\u4f5c",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199unionall\u548csql\u903b\u8f91\u4e2d\u53bb\u91cd"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb0f",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "disk_reads",
                "parm_name": "disk_reads",
                "parm_unit": "bytes",
                "parm_value": 1000
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6d88\u8017\u7269\u7406\u8bfb\u8fc7\u9ad8",
        "rule_name": "SQL_DISK_READS",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_DISK_READS\":{$gte:@disk_reads@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "disk_reads\u91cf\u5927",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "\u5bf9sql\u6d88\u8017\u8d44\u6e90\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb10",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "INDEX",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_desc": "\u5e76\u884c\u5ea6",
                "parm_name": "parallel_count"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u5bf9\u8c61\u5f00\u542f\u5e76\u884c\u5ea6",
        "rule_name": "IDX_PARALLEL_ON",
        "rule_complexity": "simple",
        "rule_cmd": "select index_name, type, degree, table_name  from (select distinct t.owner||'.'||t.INDEX_NAME as INDEX_NAME ,  decode(INDEX_TYPE,  'NORMAL',  'B-tree',  decode(index_type,  'BITMAP',  'BitMap',  decode(INDEX_TYPE,  'FUNCTION-BASED NORMAL', 'Func',  decode(table_type,  'IOT',  'IOT',  decode(index_type,  'LOB',  'Lob'))))) as type,t.TABLE_NAME,  t.degree   from dba_indexes t  where t.index_name not like 'BIN%'  and t.owner = '@username@'  and to_number(replace(ltrim(t.degree),'DEFAULT',0)) >1  order by t.table_name, t.owner||'.'||t.index_name)",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u5bf9\u8c61\u662f\u5426\u5f00\u542f\u5e76\u884c\u8bbf\u95ee",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5173\u95ed\u7d22\u5f15\u5e76\u884c\u5ea6alter index INDEXNAME noparallel;"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb11",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u5b58\u5728\u5168\u8fde\u63a5\u6216\u5916\u8fde\u63a5",
        "rule_name": "BAD_JOIN",
        "rule_complexity": "simple",
        "rule_cmd": "(cross join)|(outer join)",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728\u5168\u8fde\u63a5\u6216\u5916\u8fde\u63a5,cross join\u6216outer join\u60c5\u51b5",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3ainnerjoin"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb12",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "SQL\u5b57\u7b26\u6570\u91cf",
                "parm_name": "char_num",
                "parm_value": 1000,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "SQL\u6587\u672c\u8fc7\u957f",
        "rule_name": "LONG_TEXT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "SQL\u6587\u672c\u8fc7\u957f",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "sql\u6539\u5199\u4e3a\u7cbe\u7b80\u8bed\u53e5"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb13",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u67e5\u8be2\u5217\u4e0a\u4f7f\u7528\u8868\u8fbe\u5f0f",
        "rule_name": "WHERE_FUNC",
        "rule_complexity": "simple",
        "rule_cmd": "\\)\\s?[<>=]{1,2}",
        "rule_status": "ON",
        "rule_summary": "\u7981\u6b62\u5728\u67e5\u8be2\u5b57\u6bb5\u4e2d\u5f15\u7528\u51fd\u6570",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.\u51fd\u6570\u5199\u5728\u8868\u8fbe\u5f0f\u53f3\u8fb9",
            "2.\u5e94\u7528\u7a0b\u5e8f\u5b9e\u73b0\u51fd\u6570\u529f\u80fd"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb14",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "\u7ed1\u5b9a\u53d8\u91cf\u4e2a\u6570",
                "parm_name": "num_of_bound_var",
                "parm_value": 50,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u7ed1\u5b9a\u53d8\u91cf\u8fc7\u591a",
        "rule_name": "TOOMANY_BIND",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u7ed1\u5b9a\u53d8\u91cf\u8fc7\u591a",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u51cf\u5c11\u7ed1\u5b9a\u53d8\u91cf"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb15",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "inlist\u5143\u7d20\u4e2a\u6570",
                "parm_name": "in_list_num",
                "parm_value": 20,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "IN List\u5143\u7d20\u8fc7\u591a",
        "rule_name": "TOOMANY_IN_LIST",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "IN List\u5143\u7d20\u8fc7\u591a",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u7528\u4e34\u65f6\u8868\u5b58\u5165\u53d8\u91cf"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb16",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u91cd\u590d\u67e5\u8be2\u5b50\u53e5",
        "rule_name": "SUBQUERY_REP",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u7981\u6b62\u4f7f\u7528\u91cd\u590d\u7684\u67e5\u8be2\u5b50\u53e5,\u5e94\u4f7f\u7528with as\u66ff\u6362\u5b50\u53e5(\u4ec5\u9650Oracle)\u6765\u63d0\u5347SQL\u6267\u884c\u6548\u7387",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.withas",
            "2.\u6539\u5199sql\u907f\u514d\u91cd\u590d\u67e5\u8be2"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb17",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "direct_writes",
                "parm_name": "direct_writes",
                "parm_unit": "bytes",
                "parm_value": 1000
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u76f4\u63a5\u8def\u5f84\u5199\u8fc7\u9ad8",
        "rule_name": "SQL_DIRECT_WRITES",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_DIRECT_WRITES\":{$gte:@direct_writes@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "direct_wirtes \u91cf\u5927",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "\u5bf9sql\u6d88\u8017\u8d44\u6e90\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb18",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u540d",
                "parm_name": "column_name"
            }
        ],
        "rule_desc": "\u5916\u952e\u6ca1\u6709\u7d22\u5f15\u7684\u8868",
        "rule_name": "TABLE_FK_NOIND",
        "rule_complexity": "simple",
        "rule_cmd": "with tc as (select owner||'.'||table_name as table_name, column_name from dba_cons_columns where owner||'.'||constraint_name in (select owner||'.'||constraint_name from dba_constraints where owner = '@username@' and constraint_type = 'R')  and owner = '@username@') select table_name, column_name  from tc  where (table_name, column_name) not in (select table_name, column_name  from tc intersect   select table_name, column_name from dba_ind_columns  where index_owner = '@username@')",
        "rule_status": "ON",
        "rule_summary": "\u5916\u952e\u6ca1\u6709\u7d22\u5f15\u4f1a\u5bfc\u81f4\u4e3b\u5b50\u8868\u5173\u8054\u67e5\u8be2\u65f6,\u5173\u8054\u6548\u7387\u5f88\u4f4e\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5728\u5e94\u7528\u7aef\u5b9e\u73b0\u5916\u952e\u7ea6\u675f",
            "2.\u65e0\u6cd5\u53bb\u9664\u5916\u952e,\u5fc5\u987b\u6dfb\u52a0\u5916\u952e\u7d22\u5f15"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb19",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "delete\u6216update\u4e2d\u7f3a\u5c11where\u6761\u4ef6",
        "rule_name": "DML_ALLDATA",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "delete\u6216update\u4e2d\u5fc5\u987b\u51fa\u73b0where\u5b50\u53e5,\u9632\u6b62\u51fa\u73b0\u610f\u5916\u7684\u5168\u90e8\u5220\u9664\u6216\u66f4\u65b0\u52a8\u4f5c",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u52a0where\u6761,2.\u5982\u9700\u5168\u8868\u5220\u9664\u53ef\u7528truncate\u4ee3\u66ff"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb1a",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u4f7f\u7528select *",
        "rule_name": "SELECT_ANY",
        "rule_complexity": "simple",
        "rule_cmd": "(select \\*)|(select .*\\.\\*)",
        "rule_status": "ON",
        "rule_summary": "\u7981\u6b62\u4f7f\u7528select *,\u5fc5\u987b\u660e\u786e\u9009\u62e9\u6240\u9700\u7684\u5217",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u4f7f\u7528\u660e\u786e\u7684\u5217"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb1b",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u8c13\u8bcd\u4e2d\u5b58\u5728\u8d1f\u5411\u64cd\u4f5c\u7b26!=\u7b49",
        "rule_name": "WHERE_NOT",
        "rule_complexity": "simple",
        "rule_cmd": "(!=)|(<>)|(!>)|(!<)",
        "rule_status": "ON",
        "rule_summary": "\u8c13\u8bcd\u4e2d\u5b58\u5728\u8d1f\u5411\u64cd\u4f5c\u7b26,!=,<>,!<,!>,not exists,not",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.\u5982\u679c\u5217\u503c\u662f\u8fde\u7eed,\u53ef\u628a\u5426\u5b9a\u64cd\u4f5c,\u66f4\u6539\u4e3a\u4e24\u4e2a\u533a\u95f4",
            "2.\u4e0d\u5efa\u8bae\u4f7f\u7528\u4e0d\u7b49\u503c\u8fd0\u7b97"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb1c",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "having\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_HAVING",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "having\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb1d",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "delete\u6216update\u4e2d\u51fa\u73b0order by\u5b50\u53e5",
        "rule_name": "DML_SORT",
        "rule_complexity": "simple",
        "rule_cmd": "(\\s)?((update )|(delete )).*order by",
        "rule_status": "ON",
        "rule_summary": "delete\u6216update\u4e2d\u51fa\u73b0order by\u5b50\u53e5,\u9632\u6b62\u5220\u9664\u6216\u66f4\u65b0\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e0d\u5fc5\u8981\u7684\u6392\u5e8f",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "DML\u64cd\u4f5c\u65e0\u9700\u6392\u5e8f"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb1e",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "or\u4e2a\u6570",
                "parm_name": "or_num",
                "parm_value": 5,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u591a\u4e2a\u8fc7\u6ee4\u6761\u4ef6\u901a\u8fc7or\u8fde\u63a5",
        "rule_name": "TOOMANY_OR",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u591a\u4e2a\u8fc7\u6ee4\u6761\u4ef6\u901a\u8fc7or\u8fde\u63a5,\u9632\u6b62\u4f18\u5316\u5668\u51fa\u73b0\u9009\u62e9\u5f02\u5e38",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u7528\u4e34\u65f6\u8868\u5b58\u5165\u53d8\u91cf"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb1f",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u8c13\u8bcd\u6761\u4ef6\u4f7f\u7528like %xxx,\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15",
        "rule_name": "LIKE_UNINDEX",
        "rule_complexity": "simple",
        "rule_cmd": "like .\\%",
        "rule_status": "ON",
        "rule_summary": "\u8c13\u8bcd\u6761\u4ef6\u4f7f\u7528like %xxx,\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u4ece\u4e1a\u52a1\u89d2\u5ea6\u51fa\u53d1,\u5206\u6790\u662f\u5426\u53ef\u4f7f\u7528\u7cbe\u786e\u8fd0\u7b97\u7b26\u6216\u7c7b\u4f3clike'xx%'"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb20",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "select\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_SELECT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "select\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb21",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "from\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_FROM",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "from\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb22",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "where\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_WHERE",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "where\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb23",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": [
            "SQL_ID"
        ],
        "input_parms": [
            {
                "parm_desc": "\u76f8\u4f3csql\u7684\u6570\u91cf",
                "parm_name": "sql_no_bind_count",
                "parm_value": 100,
                "parm_unit": ""
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "SQL_TEXT",
                "parm_desc": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "no_bind_sql_sum",
                "parm_name": "SUM"
            }
        ],
        "rule_desc": "SQL\u672a\u4f7f\u7528\u7ed1\u5b9a\u53d8\u91cf",
        "rule_name": "SQL_NO_BIND",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"SUM\":{$gt:@sql_no_bind_count@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"USERNAME\":x.USERNAME,\"SQL_ID\":x.SQL_ID,\"SUM\":x.SUM,\"SQL_TEXT_DETAIL\":x.SQL_TEXT_DETAIL,\"SQL_TEXT\":x.SQL_TEXT});})",
        "rule_status": "ON",
        "rule_summary": "\u672a\u4f7f\u7528\u7ed1\u5b9a\u53d8\u91cf",
        "rule_type": "SQLSTAT",
        "rule_type_detail": null,
        "solution": [
            "\u5f3a\u9009\u62e9\u6027\u8c13\u8bcd\u4f7f\u7528\u7ed1\u5b9a\u53d8\u91cf\u5199\u6cd5"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb24",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u4e2a\u6570",
                "parm_name": "idx_count",
                "parm_value": 3,
                "parm_unit": ""
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            },
            {
                "parm_desc": "\u7d22\u5f15\u6570",
                "parm_name": "idx_count"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u6570\u91cf\u8fc7\u591a",
        "rule_name": "SINGLETABLE_INDEX_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT T.OWNER||'.'||T.TABLE_NAME, COUNT(1) FROM DBA_INDEXES T WHERE T.OWNER = '@username@' GROUP BY T.OWNER||'.'||T.TABLE_NAME HAVING COUNT(1) > @idx_count@ ORDER BY COUNT(1) DESC",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u53ef\u4ee5\u63d0\u9ad8\u8bbf\u95ee\u901f\u5ea6,\u4f46\u6570\u91cf\u8fc7\u591a\u5c06\u5bfc\u81f4\u7a7a\u95f4\u6d88\u8017\u8fc7\u5927,\u4e14\u7d22\u5f15\u7ef4\u62a4\u6210\u672c\u8f83\u9ad8,\u5f71\u54cdDML\u6548\u7387\u7b49\u95ee\u9898\u3002\u5e94\u63a7\u5236\u7d22\u5f15\u6570\u91cf\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6784\u5efa\u6218\u7565\u6027\u7d22\u5f15\u7ed3\u6784,\u4e0d\u8981\u9488\u5bf9\u6bcf\u4e2a\u9700\u6c42\u90fd\u901a\u8fc7\u521b\u5efa\u7d22\u5f15\u89e3\u51b3"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb25",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u8bb0\u5f55\u5b9a\u4e49\u957f\u5ea6\u4e0e\u5b9e\u9645\u5b58\u50a8\u957f\u5ea6\u5360\u6bd4",
                "parm_name": "data_len_ratio",
                "parm_unit": "",
                "parm_value": 0.5
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u884c\u8bb0\u5f55\u5b9a\u4e49\u5b57\u8282\u6570",
                "parm_name": "data_length"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u5b9e\u9645\u5e73\u5747\u5b58\u653e\u5b57\u8282\u6570",
                "parm_name": "avg_col_len"
            }
        ],
        "rule_desc": "\u8bb0\u5f55\u957f\u5ea6\u5b9a\u4e49\u8fc7\u957f",
        "rule_name": "LONG_COLUMN_TAB",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u8bb0\u5f55\u5b9a\u4e49\u957f\u5ea6\u4e0e\u5b9e\u9645\u5b58\u50a8\u957f\u5ea6\u5dee\u5f02\u8fc7\u5927,\u8bf7\u8003\u8651\u5b57\u6bb5\u7c7b\u578b\u5b9a\u4e49\u662f\u5426\u5408\u7406,\u4e2a\u522b\u5b57\u6bb5\u8fc7\u957f\u662f\u5426\u53ef\u5206\u8868\u5b58\u50a8\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6309\u9700\u5b9a\u4e49\u5b57\u6bb5\u957f\u5ea6"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb26",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u4e0d\u5305\u542b\u65f6\u95f4\u6233\u5b57\u6bb5\u7684\u8868",
        "rule_name": "TIMESTAMP",
        "rule_complexity": "simple",
        "rule_cmd": "select table_name from dba_tables where owner = '@username@' and table_name not in(select table_name from dba_tab_cols where owner = '@username@' and (column_name like 'CREATE%' or column_name like 'UPDATE%') and data_type = 'DATE')",
        "rule_status": "ON",
        "rule_summary": "\u65f6\u95f4\u6233,\u662f\u83b7\u53d6\u589e\u91cf\u6570\u636e\u7684\u4e00\u79cd\u65b9\u6cd5\u3002\u5efa\u8bae\u5728\u8868\u5185\u589e\u52a0\u521b\u5efa\u65f6\u95f4\u3001\u66f4\u65b0\u65f6\u95f4\u7684\u65f6\u95f4\u6233\u5b57\u6bb5\u3002\u547d\u540d\u65b9\u5f0f\u4e3aCREATE_TIME\u3001UPDATE_TIME\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6dfb\u52a0\u65f6\u95f4\u5b57\u6bb5(\u6bd4\u5982\u63d2\u5165\u3001\u66f4\u65b0\u7684\u65f6\u95f4\u6233)"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb27",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u6ca1\u6709\u4e3b\u952e\u7684\u8868",
        "rule_name": "TABLE_MIS_PK",
        "rule_complexity": "simple",
        "rule_cmd": "select a.table_name from dba_tables a where a.owner = '@username@' and a.table_name not like 'BIN$%' minus select b.table_name from dba_constraints b where b.owner = '@username@' and b.table_name not like 'BIN$%' and b.constraint_type = 'P'",
        "rule_status": "ON",
        "rule_summary": "\u4e3b\u952e\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u552f\u4e00\u786e\u5b9a\u4e00\u6761\u8bb0\u5f55\u7684\u4f9d\u636e,\u6ca1\u6709\u4efb\u4f55\u7406\u7531\u4e0d\u5b9a\u4e49\u4e3b\u952e\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5fc5\u987b\u5b9a\u4e49\u4e3b\u952e"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb28",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u540d",
                "parm_name": "column_name"
            }
        ],
        "rule_desc": "\u5916\u952e\u6ca1\u6709\u7d22\u5f15\u7684\u8868",
        "rule_name": "TABLE_FK_NOIND",
        "rule_complexity": "simple",
        "rule_cmd": "with tc as (select owner||'.'||table_name as table_name, column_name from dba_cons_columns where owner||'.'||constraint_name in (select owner||'.'||constraint_name from dba_constraints where owner = '@username@' and constraint_type = 'R')  and owner = '@username@') select table_name, column_name  from tc  where (table_name, column_name) not in (select table_name, column_name  from tc intersect   select table_name, column_name from dba_ind_columns  where index_owner = '@username@')",
        "rule_status": "ON",
        "rule_summary": "\u5916\u952e\u6ca1\u6709\u7d22\u5f15\u4f1a\u5bfc\u81f4\u4e3b\u5b50\u8868\u5173\u8054\u67e5\u8be2\u65f6,\u5173\u8054\u6548\u7387\u5f88\u4f4e\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5728\u5e94\u7528\u7aef\u5b9e\u73b0\u5916\u952e\u7ea6\u675f",
            "2.\u65e0\u6cd5\u53bb\u9664\u5916\u952e,\u5fc5\u987b\u6dfb\u52a0\u5916\u952e\u7d22\u5f15"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb29",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "record_count",
                "parm_value": 10000000,
                "parm_unit": ""
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d\u79f0"
            },
            {
                "parm_desc": "\u6570\u636e\u91cf",
                "parm_name": "record_count"
            }
        ],
        "rule_desc": "\u5355\u8868\u6216\u5355\u5206\u533a\u8bb0\u5f55\u6570\u91cf\u8fc7\u5927",
        "rule_name": "COUNT_RECORD_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select t.owner||'.'||t.table_name,t.num_rows from DBA_TABLES t  where t.partitioned='NO' and t.owner='@username@' and t.num_rows>@record_count@ union select t.table_name||'.'||t.table_name||':'||t.PARTITION_NAME,t.num_rows  from  dba_tab_PARTITIONS t  where t.table_owner='@username@' and t.num_rows>@record_count@",
        "rule_status": "ON",
        "rule_summary": "\u63a7\u5236\u5355\u4e2a\u8868\u6216\u5355\u4e2a\u5206\u533a\u7684\u6570\u636e\u89c4\u6a21,\u63d0\u9ad8\u5355\u4e00\u5bf9\u8c61\u7684\u8bbf\u95ee\u6548\u7387\u3002\u5982\u8bb0\u5f55\u6570\u8fc7\u591a,\u5e94\u8003\u8651\u5206\u5e93\u3001\u5206\u8868\u3001\u5206\u533a\u7b49\u7b56\u7565\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u5206\u5e93,\u5206\u8868,\u5206\u533a",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb2a",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u8868\u5927\u5c0f",
                "parm_name": "tab_phy_size",
                "parm_value": 2,
                "parm_unit": "GB"
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u8868\u5927\u5c0f",
                "parm_name": "tab_phy_size"
            }
        ],
        "rule_desc": "\u8d85\u8fc7\u6307\u5b9a\u89c4\u6a21\u4e14\u6ca1\u6709\u5206\u533a\u7684\u8868",
        "rule_name": "BIG_TABLE",
        "rule_complexity": "simple",
        "rule_cmd": "select * from (select owner||'.'||segment_name as table_name,round(sum(bytes) / 1024 / 1024 / 1024, 2) as tab_phy_size from dba_segments where segment_type = 'TABLE' and owner = '@username@'  and segment_name not like 'BIN$%'  group by owner||'.'||segment_name) a  where tab_phy_size > @tab_phy_size@",
        "rule_status": "ON",
        "rule_summary": "\u8868\u7684\u89c4\u6a21\u8fc7\u5927,\u5c06\u5f71\u54cd\u8868\u7684\u8bbf\u95ee\u6548\u7387\u3001\u589e\u52a0\u7ef4\u62a4\u6210\u672c\u7b49\u3002\u5e38\u89c1\u7684\u89e3\u51b3\u65b9\u6848\u5c31\u662f\u4f7f\u7528\u5206\u533a\u8868,\u5c06\u5927\u8868\u8f6c\u6362\u4e3a\u5206\u533a\u8868\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u5206\u5e93,\u5206\u8868,\u5206\u533a",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb2b",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u7528\u6237\u540d",
                "parm_name": "owner"
            },
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u540d",
                "parm_name": "column_name"
            }
        ],
        "rule_desc": "\u5305\u542b\u6709\u5927\u5b57\u6bb5\u7c7b\u578b\u7684\u8868",
        "rule_name": "TABLE_LOB",
        "rule_complexity": "simple",
        "rule_cmd": "select owner,table_name,column_name from dba_lobs where owner='@username@'",
        "rule_status": "ON",
        "rule_summary": "\u5927\u5bf9\u8c61\u5b57\u6bb5\u662f\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e2d\u5e94\u5c3d\u91cf\u907f\u514d\u7684\u3002\u5982\u6709\u9700\u8981,\u53ef\u8003\u8651\u5728\u5916\u90e8\u8fdb\u884c\u5b58\u50a8\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5efa\u8bae\u5728\u6570\u636e\u5e93\u5916\u90e8\u8fdb\u884c\u5b58\u50a8\u5927\u5b57\u6bb5"
        ],
        "weight": 0.3,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb2c",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "table_type"
            },
            {
                "parm_desc": "\u5e76\u884c\u5ea6",
                "parm_name": "parallel_count"
            }
        ],
        "rule_desc": "\u8868\u5bf9\u8c61\u5f00\u542f\u5e76\u884c\u8bbf\u95ee",
        "rule_name": "TAB_PARALLEL_ON",
        "rule_complexity": "simple",
        "rule_cmd": "select t.owner||'.'||t.table_name, decode(t.partitioned, 'YES', 'PART',  decode(t.temporary, 'Y', 'TEMP', decode (t.iot_type,'IOT','IOT','NORMAL'))) table_type, t.degree from dba_tables t  where t.table_name not like 'BIN%'  and t.owner = '@username@' and to_number(replace(ltrim(t.degree),'DEFAULT',0))  > 1 order by table_type,table_name",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b\u6240\u6709\u8868\u5bf9\u8c61\u7684\u5e76\u884c\u5ea6\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5173\u95ed\u8868\u7684\u5e76\u884c\u5ea6alter table TABLENAME noparallel"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb2d",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u5b57\u6bb5\u6570",
                "parm_name": "column_count",
                "parm_unit": "",
                "parm_value": 30
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u6570",
                "parm_name": "column_count"
            }
        ],
        "rule_desc": "\u5927\u4e8e\u9600\u503c\u6570\u91cf\u5b57\u6bb5\u7684\u8868",
        "rule_name": "TABLE_COL_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "select owner||'.'||table_name, count(1)   from dba_tab_cols   where owner = '@username@'   group by owner||'.'||table_name  having count(1) > @column_count@",
        "rule_status": "ON",
        "rule_summary": "\u5b57\u6bb5\u8fc7\u591a,\u4f1a\u5bfc\u81f4\u8bb0\u5f55\u957f\u5ea6\u8fc7\u5927\u3002\u5355\u4e2a\u6570\u636e\u5b58\u50a8\u5355\u5143\u5c06\u4fdd\u5b58\u7684\u8bb0\u5f55\u6570\u8fc7\u5c11,\u5f71\u54cd\u8bbf\u95ee\u6548\u7387\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u8868\u8bbe\u8ba1\u65f6\u5c3d\u91cf\u7b26\u5408\u4e09\u8303\u5f0f\u6765\u907f\u514d\u6570\u636e\u5197\u4f59,\u4f7f\u7528\u9891\u7387\u4f4e\u7684\u5b57\u6bb5\u62c6\u5230\u53e6\u5916\u4e00\u5f20\u8868,\u5fc5\u8981\u65f6\u505a\u8868\u5173\u8054\u53d6\u6570"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb2e",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [
            {
                "parm_desc": "\u5927\u8868\u6570\u91cf\u5360\u6240\u6709\u8868\u6570\u91cf\u7684\u6bd4\u7387",
                "parm_name": "tab_phy_size",
                "parm_unit": "MB",
                "parm_value": 2048
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "big_tab_count",
                "parm_desc": "\u5927\u8868\u6570\u91cf"
            },
            {
                "parm_desc": "\u6240\u6709\u8868\u6570\u91cf",
                "parm_name": "table_count"
            },
            {
                "parm_desc": "\u6bd4\u7387",
                "parm_name": "big_tab_ratio"
            }
        ],
        "rule_desc": "\u5927\u8868\u6570\u91cf\u8fc7\u591a",
        "rule_name": "BIG_TABLE_COUNT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b,\u8d85\u8fc7\u6307\u5b9a\u7269\u7406\u5927\u5c0f\u7684\u8868\u540d",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u5206\u5e93,\u5206\u8868,\u5206\u533a",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 0.25,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb2f",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TABLE",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u7ea6\u675f\u540d",
                "parm_name": "constraint_name"
            },
            {
                "parm_name": "\u5217\u540d",
                "parm_desc": "column_name"
            },
            {
                "parm_desc": "\u5173\u8054\u8868",
                "parm_name": "rel_tab_name"
            },
            {
                "parm_desc": "\u5173\u8054\u7ea6\u675f\u540d",
                "parm_name": "rel_con_name"
            }
        ],
        "rule_desc": "\u8868\u4e2d\u5b58\u5728\u5916\u952e\u7ea6\u675f",
        "rule_name": "TAB_EXISTS_FK",
        "rule_complexity": "simple",
        "rule_cmd": "select c.OWNER||'.'||c.table_name,  c.constraint_name,  t.column_name, (select distinct a.table_name  from dba_constraints a  where a.constraint_name = c.r_constraint_name and a.owner = c.owner) r_table_name, c.r_constraint_name   from dba_constraints c, dba_cons_columns t  where t.owner = c.owner  and t.constraint_name = c.constraint_name and c.owner = '@username@'   and c.table_name not like 'BIN$%'  and c.constraint_type = 'R'",
        "rule_status": "ON",
        "rule_summary": "\u8868\u4e2d\u5b58\u5728\u5916\u952e\u7ea6\u675f",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5e94\u7528\u7a0b\u5e8f\u5b9e\u73b0\u5916\u952e\u7ea6\u675f,\u4e0d\u5efa\u8bae\u5728\u6570\u636e\u5e93\u91cc\u9762\u4f7f\u7528\u5916\u952e\u7ea6\u675f"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb30",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "INDEX",
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u5b58\u57287\u5929\u5185\u6ca1\u6709\u4f7f\u7528\u7684\u7d22\u5f15",
        "rule_name": "INVALID_INDEX",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT T.OWNER||'.'||T.TABLE_NAME, T.INDEX_NAME  FROM DBA_INDEXES T  WHERE T.OWNER = '@username@' AND NOT EXISTS  (SELECT 1  FROM V$SQL_PLAN S  WHERE S.OBJECT_NAME = T.INDEX_NAME  AND S.OBJECT_OWNER = '@username@')  INTERSECT  SELECT T.TABLE_NAME, T.INDEX_NAME  FROM DBA_INDEXES T  WHERE T.OWNER = '@l_username'  AND NOT EXISTS   (SELECT 1   FROM DBA_HIST_SQL_PLAN P   WHERE P.OBJECT_NAME = T.INDEX_NAME  AND P.OBJECT_OWNER = '@username@')",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u57287\u5929\u5185\u6ca1\u6709\u4f7f\u7528\u7684\u7d22\u5f15",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6839\u636e\u4e1a\u52a1\u7279\u70b9,\u6709\u76ee\u7684\u7684\u6dfb\u52a0\u76f8\u5173\u7d22\u5f15"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb31",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "FUNCTION",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u51fd\u6570\u6240\u6709\u8005",
                "parm_name": "owner"
            },
            {
                "parm_desc": "\u51fd\u6570\u540d\u79f0",
                "parm_name": "func_name"
            },
            {
                "parm_desc": "\u7c7b\u578b",
                "parm_name": "obj_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u51fd\u6570",
        "rule_name": "USE_FUNCTION",
        "rule_complexity": "simple",
        "rule_cmd": "select owner,object_name, object_type from dba_objects where object_type = 'FUNCTION' and owner = '@username@' order by object_type",
        "rule_status": "ON",
        "rule_summary": "\u51fd\u6570,\u5c06\u5f71\u54cd\u6570\u636e\u5e93\u7684\u5f02\u6784\u8fc1\u79fb\u80fd\u529b,\u5e76\u5b58\u5728\u4ee3\u7801\u7ef4\u62a4\u6027\u8f83\u5dee\u7b49\u539f\u56e0\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u7528\u5e94\u7528\u7aef\u7a0b\u5e8f\u5b9e\u73b0\u5c06\u51fd\u6570"
        ],
        "weight": 3.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb32",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "INDEX",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_desc": "\u5e76\u884c\u5ea6",
                "parm_name": "parallel_count"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u5bf9\u8c61\u5f00\u542f\u5e76\u884c\u5ea6",
        "rule_name": "IDX_PARALLEL_ON",
        "rule_complexity": "simple",
        "rule_cmd": "select index_name, type, degree, table_name  from (select distinct t.owner||'.'||t.INDEX_NAME as INDEX_NAME ,  decode(INDEX_TYPE,  'NORMAL',  'B-tree',  decode(index_type,  'BITMAP',  'BitMap',  decode(INDEX_TYPE,  'FUNCTION-BASED NORMAL', 'Func',  decode(table_type,  'IOT',  'IOT',  decode(index_type,  'LOB',  'Lob'))))) as type,t.TABLE_NAME,  t.degree   from dba_indexes t  where t.index_name not like 'BIN%'  and t.owner = '@username@'  and to_number(replace(ltrim(t.degree),'DEFAULT',0)) >1  order by t.table_name, t.owner||'.'||t.index_name)",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u5bf9\u8c61\u662f\u5426\u5f00\u542f\u5e76\u884c\u8bbf\u95ee",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5173\u95ed\u7d22\u5f15\u5e76\u884c\u5ea6alter index INDEXNAME noparallel;"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb33",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "PROCEDURE",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u5b58\u50a8\u8fc7\u7a0b\u540d\u79f0",
                "parm_name": "proc_name"
            },
            {
                "parm_desc": "\u7c7b\u578b",
                "parm_name": "obj_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u5b58\u50a8\u8fc7\u7a0b",
        "rule_name": "USE_PROCEDURE",
        "rule_complexity": "simple",
        "rule_cmd": "select owner||'.'||object_name, object_type from dba_objects where object_type = 'PROCEDURE' and owner = '@username@' order by object_type",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u50a8\u8fc7\u7a0b,\u5c06\u5f71\u54cd\u6570\u636e\u5e93\u7684\u5f02\u6784\u8fc1\u79fb\u80fd\u529b,\u5e76\u5b58\u5728\u4ee3\u7801\u7ef4\u62a4\u6027\u8f83\u5dee\u7b49\u539f\u56e0\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u7528\u5e94\u7528\u7aef\u7a0b\u5e8f\u5b9e\u73b0\u5c06\u5b58\u50a8\u8fc7\u7a0b"
        ],
        "weight": 3.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb34",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "INDEX",
        "input_parms": [
            {
                "parm_desc": "\u805a\u7c07\u56e0\u5b50\u4e0e\u8868\u8bb0\u5f55\u6570\u6bd4\u7387",
                "parm_name": "cluster_row_ratio",
                "parm_unit": "",
                "parm_value": 3
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_name": "idx_clustering_factor",
                "parm_desc": "\u805a\u7c07\u56e0\u5b50"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u8868\u8bb0\u5f55\u6570",
                "parm_name": "row_num"
            },
            {
                "parm_desc": "\u6bd4\u7387",
                "parm_name": "cluster_row_ratio"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u7684\u805a\u7c07\u56e0\u5b50",
        "rule_name": "IDX_CLUSTERING_FACTOR",
        "rule_complexity": "simple",
        "rule_cmd": "select * from (select owner||'.'||index_name,type,CLUSTERING_FACTOR,table_name,NUM_ROWS,ceil(NUM_ROWS / CLUSTERING_FACTOR) as ratio from (select distinct t.INDEX_NAME,t.OWNER,decode(INDEX_TYPE,'NORMAL','B-tree',decode(index_type,'BITMAP','BitMap',decode(INDEX_TYPE,'FUNCTION-BASED NORMAL', 'Func',decode(table_type,'IOT','IOT',decode(index_type,'LOB','Lob'))))) as type,t.TABLE_NAME,decode(t.CLUSTERING_FACTOR,0,1,decode(t.clustering_factor,'',1,t.clustering_factor)) as CLUSTERING_FACTOR, u.NUM_ROWS from dba_indexes t, dba_tables u where u.table_name = t.table_name and t.OWNER = u.OWNER and t.index_name not like 'BIN%' and t.owner = '@username@' order by t.table_name, t.index_name)) where ratio >@cluster_row_ratio@",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b\u6240\u6709\u7d22\u5f15\u5bf9\u8c61\u7684\u805a\u7c07\u56e0\u5b50\u60c5\u51b5\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u91cd\u65b0\u5b9a\u4e49\u8868\u7684\u5b57\u6bb5\u7c7b\u578b",
            "2.\u8868\u6570\u636e\u91cd\u65b0\u5b58\u50a8"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb35",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "SEQUENCE",
        "input_parms": [
            {
                "parm_desc": "\u7f13\u5b58\u5927\u5c0f",
                "parm_name": "cache_size",
                "parm_unit": "",
                "parm_value": 2000
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u5e8f\u5217\u540d\u79f0",
                "parm_name": "seq_name"
            },
            {
                "parm_desc": "\u7f13\u5b58\u5927\u5c0f",
                "parm_name": "seq_cache_size"
            }
        ],
        "rule_desc": "\u5e8f\u5217CACHESIZE\u8fc7\u5c0f",
        "rule_name": "SEQ_CACHESIZE",
        "rule_complexity": "simple",
        "rule_cmd": "select SEQUENCE_OWNER||'.'||SEQUENCE_NAME, CACHE_SIZE from dba_sequences WHERE SEQUENCE_OWNER = '@username@' AND CACHE_SIZE < @cache_size@",
        "rule_status": "ON",
        "rule_summary": "\u7f13\u5b58\u8fc7\u5c0f\u7684\u5e8f\u5217",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u8c03\u6574cache\u7f13\u5b58\u5927\u5c0f,alter sequence sequence_name cache 2000;"
        ],
        "weight": 1.0,
        "obj_info_type": "SEQUENCE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb36",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "COLUMN",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_name": "column_name",
                "parm_desc": "\u5b57\u6bb5\u540d"
            },
            {
                "parm_desc": "\u91cd\u590d\u6b21\u6570",
                "parm_name": "repeat_times"
            }
        ],
        "rule_desc": "\u5b57\u6bb5\u91cd\u590d\u7d22\u5f15",
        "rule_name": "DUPLICATE_INDEX",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT T.COLUMN_NAME, T.TABLE_OWNER||'.'||T.TABLE_NAME, COUNT(T.INDEX_NAME) FROM DBA_IND_COLUMNS T WHERE T.INDEX_OWNER = '@username@' GROUP BY T.TABLE_OWNER||'.'||T.TABLE_NAME, T.COLUMN_NAME HAVING COUNT(T.INDEX_NAME) > 1",
        "rule_status": "ON",
        "rule_summary": "\u4e00\u4e2a\u5b57\u6bb5\u88ab\u591a\u4e2a\u7d22\u5f15\u5f15\u7528,\u8bf7\u8003\u8651\u6784\u5efa\u7b56\u7565\u3002\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u7d22\u5f15"
        ],
        "weight": 0.3,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb37",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "INDEX",
        "input_parms": [
            {
                "parm_desc": "\u7ec4\u5408\u7d22\u5f15\u767e\u5206\u6bd4",
                "parm_name": "com_idx_percent",
                "parm_unit": "",
                "parm_value": 30
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_name": "column_name",
                "parm_desc": "\u5217\u540d"
            },
            {
                "parm_desc": "\u5217\u987a\u5e8f",
                "parm_name": "col_position"
            }
        ],
        "rule_desc": "\u7ec4\u5408\u7d22\u5f15\u6570\u91cf\u8fc7\u591a\u6216\u6ca1\u6709\u7d22\u5f15",
        "rule_name": "COMBINED_INDEX_PERCENT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u7ec4\u5408\u7d22\u5f15\u8fc7\u591a,\u5c06\u5bfc\u81f4\u7a7a\u95f4\u6d88\u8017\u8f83\u5927\u3001\u7d22\u5f15\u7ef4\u62a4\u6210\u672c\u8f83\u9ad8\u3002\u5e94\u8003\u8651\u6784\u5efa\u6218\u7565\u6027\u7d22\u5f15\u7ed3\u6784,\u4e0d\u8981\u9488\u5bf9\u6bcf\u4e2a\u9700\u6c42\u90fd\u901a\u8fc7\u521b\u5efa\u7d22\u5f15\u89e3\u51b3\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u6784\u5efa\u6218\u7565\u6027\u7d22\u5f15\u7ed3\u6784,\u4e0d\u8981\u9488\u5bf9\u6bcf\u4e2a\u9700\u6c42\u90fd\u901a\u8fc7\u521b\u5efa\u7d22\u5f15\u89e3\u51b3",
            "2.\u6ce8\u610f\u5217\u5728\u6240\u6709\u7684\u987a\u5e8f"
        ],
        "weight": 0.1,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb38",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "DBLINK",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "dblink\u540d\u5b57",
                "parm_name": "dblink_name"
            },
            {
                "parm_name": "username",
                "parm_desc": "\u8bbf\u95ee\u7684\u7528\u6237"
            },
            {
                "parm_desc": "\u8bbf\u95ee\u7684\u4e3b\u673a",
                "parm_name": "hostname"
            }
        ],
        "rule_desc": "\u5b58\u5728DBLINK",
        "rule_name": "DBLINKS_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "select db_link, username, host from dba_db_links where owner = '@username@'",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728DBLINK",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u7981\u7528dblink,\u5728\u5e94\u7528\u7a0b\u5e8f\u7aef\u8fde\u63a5\u591a\u4e2a\u6570\u636e\u5e93\u64cd\u4f5c"
        ],
        "weight": 10.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb39",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "PART_TABLE",
        "input_parms": [
            {
                "parm_desc": "\u590d\u5408\u5206\u533a\u4e2a\u6570",
                "parm_name": "subpart_tab_num",
                "parm_value": 200,
                "parm_unit": ""
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_name": "title2",
                "parm_desc": "part_name"
            },
            {
                "parm_desc": "\u5b50\u5206\u533a\u6570\u91cf",
                "parm_name": "subpart_count"
            }
        ],
        "rule_desc": "\u590d\u5408\u5206\u533a\u6570\u91cf\u8fc7\u591a",
        "rule_name": "COUNT_SUBPART_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select t.table_owner||'.'||t.table_name, t.partition_name, count(1) from DBA_TAB_SUBPARTITIONS t  where t.table_owner = '@username@' group by t.table_owner||'.'||t.table_name, t.partition_name having count(1) >= @subpart_tab_num@",
        "rule_status": "ON",
        "rule_summary": "\u590d\u5408\u5206\u533a\u6570\u91cf\u8fc7\u591a",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u91cd\u65b0\u5408\u7406\u5b9a\u4e49\u5206\u533a\u952e"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb3a",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "INDEX",
        "input_parms": [
            {
                "parm_name": "idx_level",
                "parm_value": 3,
                "parm_unit": "",
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6"
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "index_level"
            },
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u5bf9\u8c61\u9ad8\u5ea6\u8fc7\u9ad8",
        "rule_name": "IDX_BLEVEL",
        "rule_complexity": "simple",
        "rule_cmd": "select index_name, type, idx_blevel, table_name from (select distinct t.owner||'.'||t.INDEX_NAME as INDEX_NAME,decode(INDEX_TYPE,'NORMAL','B-tree',decode(index_type,'BITMAP','BitMap',decode(INDEX_TYPE,'FUNCTION-BASED NORMAL','Func',decode(table_type,'IOT','IOT',decode(index_type,'LOB','Lob'))))) as type, t.TABLE_NAME,t.blevel as idx_blevel from dba_indexes t   where t.index_name not like 'BIN%'  and t.owner = '@username@' and t.blevel > @idx_level@  order by t.table_name, t.owner||'.'||t.index_name)",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u5bf9\u8c61\u9ad8\u5ea6",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u91cd\u6784\u8868\u7684\u5b57\u6bb5\u6216\u7d22\u5f15",
            "2.\u91cd\u5efa\u7d22\u5f15"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb3b",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "PART_TABLE",
        "input_parms": [
            {
                "parm_desc": "\u5206\u533a\u8868\u4e2a\u6570",
                "parm_name": "part_tab_num",
                "parm_unit": "",
                "parm_value": 10
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "table_type"
            }
        ],
        "rule_desc": "\u5206\u533a\u8868\u6570\u91cf\u8fc7\u591a",
        "rule_name": "COUNT_SUMPART_FULL_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select distinct s.TABLE_OWNER||'.'||s.table_name, 'PART_TABLE' as table_type from dba_tab_partitions s, (select t.owner owner, count(1) from DBA_TABLES t where t.partitioned = 'YES'  and t.owner = '@username@' and t.table_name not like 'BIN$%' group by t.owner having count(1) > @part_tab_num@ ) a where s.table_owner = a.owner and s.table_name not like 'BIN$%'",
        "rule_status": "ON",
        "rule_summary": "\u5206\u533a\u8868\u8fc7\u591a,\u5e38\u89c1\u539f\u56e0\u662f\u5927\u8868\u8f83\u591a\u3002\u56e0\u6839\u636e\u9700\u6c42,\u8003\u8651\u8fdb\u884c\u5782\u76f4\u62c6\u5206,\u51cf\u5c0f\u5355\u5e93\u89c4\u6a21\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u91cd\u65b0\u5408\u7406\u5b9a\u4e49\u5206\u533a\u952e",
            "2.\u5782\u76f4\u62c6\u5206,\u51cf\u5c11\u5355\u5e93\u89c4\u6a21"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb3c",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "TRIGGER",
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_name": "trigger_name",
                "parm_desc": "\u89e6\u53d1\u5668\u540d\u79f0"
            },
            {
                "parm_desc": "\u7c7b\u578b",
                "parm_name": "obj_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u89e6\u53d1\u5668",
        "rule_name": "TRIGGERS_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "select owner||'.'||trigger_name, 'TRIGGER' as type from dba_triggers where owner = '@username@'",
        "rule_status": "ON",
        "rule_summary": "\u89e6\u53d1\u5668,\u5c06\u5f71\u54cd\u6570\u636e\u5e93\u7684\u5f02\u6784\u8fc1\u79fb\u80fd\u529b\u3002\u5982\u6709\u6570\u636e\u4e00\u81f4\u6027\u7ef4\u62a4\u9700\u6c42,\u8bf7\u4ece\u5e94\u7528\u7aef\u7ed9\u4e88\u8003\u8651\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5728\u5e94\u7528\u7aef\u5b9e\u73b0\u89e6\u53d1\u5668\u529f\u80fd"
        ],
        "weight": 5.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb3d",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "F_INDEX",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            },
            {
                "parm_desc": "\u7d22\u5f15\u63cf\u8ff0",
                "parm_name": "index_describe"
            }
        ],
        "rule_desc": "\u4f7f\u7528\u51fd\u6570\u7d22\u5f15",
        "rule_name": "IDX_FUNC",
        "rule_complexity": "simple",
        "rule_cmd": "select t.INDEX_NAME, t.INDEX_TYPE, t.owner||'.'||t.TABLE_NAME, s.COLUMN_EXPRESSION from dba_indexes t, dba_ind_expressions s where t.index_name = s.index_name and t.table_name = s.TABLE_name  and t.index_name not like 'BIN%'  and t.owner = '@username@' and t.index_type like '%FUNCTION%' order by t.table_name, t.index_name",
        "rule_status": "ON",
        "rule_summary": "\u662f\u5426\u4f7f\u7528\u51fd\u6570\u7d22\u5f15",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u51fd\u6570\u5728\u8868\u8fbe\u5f0f\u53f3\u4fa7\u5b9e\u73b0",
            "2.\u5e94\u7528\u7a0b\u5e8f\u66ff\u6362\u6570\u636e\u5e93\u51fd\u6570"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb3e",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "COLUMN",
        "input_parms": [
            {
                "parm_name": "sample_threshold",
                "parm_value": 10000,
                "parm_unit": "",
                "parm_desc": "\u662f\u5426\u91c7\u6837\u9608\u503c(\u8bb0\u5f55\u6570)"
            },
            {
                "parm_value": 20,
                "parm_unit": "",
                "parm_desc": "\u975e\u91cd\u590d\u503c\u9608\u503c(\u6392\u67e5\u679a\u4e3e)",
                "parm_name": "unrepeat_threshold"
            },
            {
                "parm_desc": "\u8fd4\u56de\u8bb0\u5f55\u6570\u4e0a\u9650",
                "parm_name": "return_num",
                "parm_unit": "",
                "parm_value": 200
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d\u79f0"
            },
            {
                "parm_desc": "\u8868\u5b57\u6bb5\u540d",
                "parm_name": "column_name"
            },
            {
                "parm_desc": "\u5b57\u6bb5\u5b9a\u4e49\u7c7b\u578b",
                "parm_name": "column_type_define"
            },
            {
                "parm_name": "column_type_real",
                "parm_desc": "\u5b57\u6bb5\u5b9e\u9645\u7c7b\u578b"
            }
        ],
        "rule_desc": "\u8868\u5b57\u6bb5\u7c7b\u578b\u4e0d\u5339\u914d",
        "rule_name": "COL_WRONG_TYPE",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u62bd\u6837\u90e8\u5206\u6570\u636e,\u5206\u6790\u5176\u5b9a\u4e49\u7c7b\u578b\u4e0e\u5b58\u50a8\u7c7b\u578b\u662f\u5426\u76f8\u7b26\u3002\u5e38\u89c1\u95ee\u9898\u5982\u7528\u6570\u5b57\u3001\u6587\u672c\u4fdd\u5b58\u65e5\u671f\u7b49\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u5408\u7406\u5b9a\u4e49\u5b57\u6bb5\u7c7b\u578b"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb3f",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "GLOBAL_INDEX",
        "input_parms": [],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            }
        ],
        "rule_desc": "\u5b58\u5728\u5168\u5c40\u5206\u533a\u7d22\u5f15",
        "rule_name": "GLOBAL_PART_INDEX",
        "rule_complexity": "simple",
        "rule_cmd": "SELECT INDEX_NAME, OWNER||'.'||TABLE_NAME FROM DBA_PART_INDEXES X WHERE X.OWNER = '@username@' AND X.LOCALITY = 'GLOBAL'",
        "rule_status": "ON",
        "rule_summary": "\u5168\u5c40\u5206\u533a\u7d22\u5f15,\u5b58\u5728\u7ef4\u62a4\u6210\u672c\u8f83\u9ad8\u95ee\u9898\u3002\u5f53\u5206\u533a\u53d1\u751f\u53d8\u5316\u662f,\u9700\u8981\u7ef4\u62a4\u5168\u5c40\u7d22\u5f15\u7684\u6709\u6548\u6027\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u9020\u672c\u5730\u5206\u533a\u7d22\u5f15"
        ],
        "weight": 0.3,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb40",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "B_INDEX",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_name": "index_type",
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u5217",
                "parm_name": "idx_col_name"
            }
        ],
        "rule_desc": "\u662f\u5426\u4f7f\u7528\u4f4d\u56fe\u7d22\u5f15",
        "rule_name": "IDX_BITMAP",
        "rule_complexity": "simple",
        "rule_cmd": "select t.INDEX_NAME, t.INDEX_TYPE, t.owner||'.'||t.TABLE_NAME, s.column_name from dba_indexes t, dba_ind_columns s where t.owner = s.table_owner and t.index_name = s.index_name and t.index_name not like 'BIN%' and t.owner = '@username@' and t.index_type = 'BITMAP' order by t.table_name, t.index_name",
        "rule_status": "ON",
        "rule_summary": "\u6b64\u89c4\u5219\u4f1a\u83b7\u53d6\u88ab\u5ba1\u6838\u7528\u6237\u4e0b\u6240\u6709\u7d22\u5f15\u7684\u7c7b\u578b,\u5e76\u5224\u65ad\u662f\u5426\u4e3a\u4f4d\u56fe\u7d22\u5f15\u3002\u82e5\u8868\u5bf9\u8c61\u6709\u9891\u7e41\u7684DML\u64cd\u4f5c,\u4f4d\u56fe\u7d22\u5f15\u4f1a\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u963b\u585e\u76f8\u5173\u64cd\u4f5c\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "OLTP\u5728\u7ebf\u4ea4\u6613\u7cfb\u7edf\u7981\u7528\u4f4d\u56fe\u7d22\u5f15"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb41",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "PART_TABLE",
        "input_parms": [
            {
                "parm_value": 200,
                "parm_desc": "\u5206\u533a\u4e2a\u6570",
                "parm_name": "part_tab_num",
                "parm_unit": ""
            }
        ],
        "max_score": 3,
        "output_parms": [
            {
                "parm_desc": "\u8868\u540d\u79f0",
                "parm_name": "table_name"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "part_tab_num"
            }
        ],
        "rule_desc": "\u5206\u533a\u6570\u91cf\u8fc7\u591a",
        "rule_name": "COUNT_SUMPART_SINGLE_TAB",
        "rule_complexity": "simple",
        "rule_cmd": "select t.table_owner||'.'||t.table_name, count(1)  from DBA_TAB_PARTITIONS t where t.table_owner = '@username@' group by t.table_owner||'.'||t.table_name having count(1) >= @part_tab_num@",
        "rule_status": "ON",
        "rule_summary": "\u5206\u533a\u8868\u4e2d\u5206\u533a\u6570\u91cf\u8fc7\u591a,\u5c06\u5bfc\u81f4\u6574\u4f53\u7ef4\u62a4\u6210\u672c\u8fc7\u9ad8,\u53ef\u8c03\u6574\u5206\u533a\u7c92\u5ea6\u3002",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u5408\u7406\u5b9a\u4e49\u5206\u533a\u952e",
            "2.\u5386\u53f2\u6570\u636e\u5f52\u6863"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb42",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u8868\u7269\u7406\u5927\u5c0f",
                "parm_name": "table_phy_size",
                "parm_unit": "MB",
                "parm_value": 2048
            },
            {
                "parm_desc": "\u8868\u884c\u6570",
                "parm_name": "table_row_num",
                "parm_unit": "",
                "parm_value": 100000
            }
        ],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5927\u8868\u5168\u8868\u626b\u63cf",
        "rule_name": "SQL_TABLE_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"TABLE ACCESS\",\"OPTIONS\":\"FULL\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){if(db.obj_tab_info.findOne({\"TABLE_NAME\":x.OBJECT_NAME,$or: [{\"NUM_ROWS\":{$gt:@table_row_num@}},{\"PHY_SIZE(MB)\":{$gt:@table_phy_size@}}]}))db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5927\u8868\u5168\u8868\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "1.\u7f3a\u7d22\u5f15\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "2.\u53d6max\u3001min\u503c\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "3.\u7d22\u5f15\u5931\u6548\u91cd\u5efa\u7d22\u5f15,\u5206\u533a\u8868\u7ef4\u62a4\u8bb0\u5f97\u7ef4\u62a4\u7d22\u5f15",
            "4.\u5bf9\u6761\u4ef6\u5b57\u6bb5\u4f7f\u7528\u51fd\u6570\u6216\u8868\u8fbe\u5f0fa.\u51fd\u6570\u3001\u8868\u8fbe\u5f0f\u653e\u5230\u7b49\u4e8e\u53f7\u7684\u53f3\u8fb9b.\u521b\u5efa\u51fd\u6570\u7d22\u5f15(\u4e0b\u7b56)",
            "5.\u51fa\u73b0\u9690\u5f0f\u8f6c\u6362a.\u4e0d\u540c\u7c7b\u578b\u7684\u8c13\u8bcd\u5339\u914d\u5148\u663e\u5f0f\u8f6c\u6362b.\u8868\u5b9a\u4e49\u6839\u636e\u6570\u636e\u9009\u62e9\u6b63\u786e\u7684\u6570\u636e\u7c7b\u578b",
            "6.\u4f7f\u7528isNULL\u505a\u67e5\u8be2\u6761\u4ef6a.\u4e0d\u5efa\u8bae\u4f7f\u7528null\u503cb.null\u503c\u8f83\u5c11\u7684\u60c5\u51b5\u53ef\u521b\u5efa\u7ec4\u5408\u7d22\u5f15\u6216\u8005\u4f2a\u5217\u7d22\u5f15(createindexidx_1ontab1(col1,0)c.\u5c06null\u5b9a\u4e49\u4e00\u4e2a\u666e\u901a\u53d8\u91cf",
            "7.\u4f7f\u7528\u4e0d\u7b49\u8fd0\u7b97\u7b26<>!=\u505a\u67e5\u8be2\u6761\u4ef6a.\u5c3d\u91cf\u5c11\u7528\u4e0d\u7b49\u5224\u65ad\uff1bb.\u5982\u679c\u5217\u503c\u662f\u8fde\u7eed,\u53ef\u628a\u5426\u5b9a\u64cd\u4f5c\u66f4\u6539\u4e3a\u4e24\u4e2a\u533a\u95f4\uff1bc.\u5982\u679c\u5217\u503c\u4e0d\u591a,\u53ef\u7528inlist\u679a\u4e3e\u5176\u4ed6\u6240\u6709\u503c",
            "8.'\uff05a\uff05''\uff05a'\u5efa\u8bae\u7cbe\u786e\u5339\u914d",
            "9.sql\u903b\u8f91,\u6bd4\u5982\u6700\u5927\u503c,\u6539\u7528\u7a97\u53e3\u51fd\u6570",
            "10.\u5f31\u9009\u62e9sql,\u8fd4\u56de\u7ed3\u679c\u96c6\u8f83\u5927\u5efa\u8baea.\u6dfb\u52a0\u66f4\u591a\u7684\u8c13\u8bcd\u51cf\u5c11\u6570\u636e\u7684\u8bbf\u95ee,\u6bd4\u5982\u65f6\u95f4b.\u6539\u9020\u5206\u533a\u8868c.\u4f7f\u7528\u8986\u76d6\u7d22\u5f15",
            "11.hintfull\u7981\u7528hint1",
            "12.\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\u6570\u636e\u6279\u91cf\u52a0\u8f7d\u7a0b\u5e8f\u89e6\u53d1\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f"
        ],
        "weight": 0.5,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb43",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u5206\u533a\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u5206\u533a\u952e",
                "parm_name": "obj_info_key"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "obj_info_part_num"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u8de8\u5206\u533a\u626b\u63cf",
        "rule_name": "SQL_PARTITION_RANGE_ITERATOR",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PARTITION RANGE\",\"OPTIONS\":\"ITERATOR\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@sql@.find({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":{$eq:x.ID+1},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":x.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u8de8\u5206\u533a\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5206\u533a\u952e\u8bbe\u8ba1\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.5,
        "obj_info_type": "PART_TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb44",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u7269\u7406\u5927\u5c0f",
                "parm_name": "ind_phy_size",
                "parm_unit": "MB",
                "parm_value": 1024.0
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u4e0d\u540c\u503c\u7684\u6570\u91cf",
                "parm_name": "obj_info_dist_num"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u662f\u5426\u4e3aunique",
                "parm_name": "obj_info_uniqueness"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "obj_info_blevel"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u6267\u884c\u8ba1\u5212\u4e2d\u7d22\u5f15\u5168\u626b",
        "rule_name": "SQL_INDEX_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"INDEX\",\"OPTIONS\":\"FULL SCAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){if(db.obj_ind_info.findOne({\"INDEX_NAME\":x.OBJECT_NAME,\"PHY_SIZE(MB)\":{$gt:@ind_phy_size@}}))db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5927\u7d22\u5f15\u5168\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "sql\u903b\u8f91\u80fd\u5426\u6539\u5199\u83b7\u53d6\u66f4\u5c11\u7684\u6570\u636e"
        ],
        "weight": 1.0,
        "obj_info_type": "INDEX",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb45",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u5206\u533a\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u5206\u533a\u952e",
                "parm_name": "obj_info_key"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "obj_info_part_num"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5206\u533a\u5168\u626b\u63cf",
        "rule_name": "SQL_PARTITION_RANGE_ALL",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PARTITION RANGE\",\"OPTIONS\":\"ALL\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@sql@.find({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":{$eq:x.ID+1}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":x.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u5206\u533a\u5168\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5206\u533a\u952e\u8bbe\u8ba1\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.5,
        "obj_info_type": "PART_TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb46",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u4e0d\u540c\u503c\u7684\u6570\u91cf",
                "parm_name": "obj_info_dist_num"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u662f\u5426\u4e3aunique",
                "parm_name": "obj_info_uniqueness"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "obj_info_blevel"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            },
            {
                "parm_desc": "\u5217\u540d",
                "parm_name": "obj_info_col_name"
            },
            {
                "parm_desc": "\u5217\u7684\u4f4d\u7f6e",
                "parm_name": "obj_info_col_post"
            }
        ],
        "rule_desc": "\u6267\u884c\u8ba1\u5212\u4e2d\u5b58\u5728\u7d22\u5f15\u8df3\u63cf",
        "rule_name": "SQL_INDEX_SKIP_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"INDEX\",\"OPTIONS\":\"SKIP SCAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u8df3\u8dc3\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u7d22\u5f15\u5217\u7684\u5148\u540e\u987a\u5e8f\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.1,
        "obj_info_type": "INDEX",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb47",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u7269\u7406\u5927\u5c0f",
                "parm_name": "ind_phy_size",
                "parm_unit": "MB",
                "parm_value": 100.0
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u4e0d\u540c\u503c\u7684\u6570\u91cf",
                "parm_name": "obj_info_dist_num"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u662f\u5426\u4e3aunique",
                "parm_name": "obj_info_uniqueness"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "obj_info_blevel"
            },
            {
                "parm_desc": "\u8868\u540d",
                "parm_name": "obj_info_tab_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u805a\u7c07\u56e0\u5b50",
                "parm_name": "obj_info_cluster_factor"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u6267\u884c\u8ba1\u5212\u4e2d\u7d22\u5f15\u5feb\u901f\u5168\u626b",
        "rule_name": "SQL_INDEX_FAST_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"INDEX\",\"OPTIONS\":\"FAST FULL SCAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){if(db.obj_ind_info.findOne({\"INDEX_NAME\":x.OBJECT_NAME,\"PHY_SIZE(MB)\":{$gt:@ind_phy_size@}}))db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5927\u7d22\u5f15\u5feb\u901f\u5168\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "sql\u903b\u8f91\u80fd\u5426\u6539\u5199\u83b7\u53d6\u66f4\u5c11\u7684\u6570\u636e"
        ],
        "weight": 0.5,
        "obj_info_type": "INDEX",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb48",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u5206\u533a\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u5206\u533a\u952e",
                "parm_name": "obj_info_key"
            },
            {
                "parm_desc": "\u5206\u533a\u6570\u91cf",
                "parm_name": "obj_info_part_num"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u975e\u8fde\u7eed\u5206\u533a\u626b\u63cf",
        "rule_name": "SQL_PARTITION_RANGE_INLIST_OR",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PARTITION RANGE\",$or: [{\"OPTIONS\":\"INLIST\"},{\"OPTIONS\":\"OR\"}],\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@sql@.find({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":{$eq:x.ID+1}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":x.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u975e\u8fde\u7eed\u5206\u533a\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5206\u533a\u952e\u8bbe\u8ba1\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.5,
        "obj_info_type": "PART_TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb49",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u5173\u8054\u8868\u7684\u6570\u91cf",
                "parm_name": "tab_num",
                "parm_unit": "",
                "parm_value": 5
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u8fc7\u591a\u7684\u8868\u5173\u8054,\u5f71\u54cd\u6027\u80fd",
        "rule_name": "SQL_TAB_REL_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.group( { key:{\"USERNAME\":1,\"ETL_DATE\":1,\"SQL_ID\":1,\"PLAN_HASH_VALUE\":1,\"OBJECT_TYPE\":1}, cond:{\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",\"OBJECT_TYPE\":\"TABLE\"}, reduce:function(curr,result){ result.count++; }, initial:{count:0} } ).forEach(function(x){db.@tmp1@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"ID\":x.ID,\"COUNT\":x.count})});db.@tmp1@.find({\"COUNT\":{$gte:@tab_num@}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"ID\":y.ID,\"COUNT\":y.COUNT,\"COST\":\"\",\"OBJECT_NAME\":\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u8fc7\u591a\u7684\u8868\u5173\u8054,\u5f71\u54cd\u6027\u80fd",
        "rule_type": "SQLPLAN",
        "rule_type_detail": null,
        "solution": [
            "\u5efa\u8bae\u51cf\u5c11\u8868\u5173\u8054,\u4e1a\u52a1\u903b\u8f91sql\u6539\u5199"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb4a",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "view\u5bf9\u8c61\u7684\u540d\u79f0",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "view\u5173\u8054\u5bf9\u8c61\u7684owner",
                "parm_name": "obj_info_rel_owner"
            },
            {
                "parm_desc": "view\u5173\u8054\u5bf9\u8c61\u7684\u540d\u79f0",
                "parm_name": "obj_info_rel_name"
            },
            {
                "parm_desc": "view\u5173\u8054\u5bf9\u8c61\u7684\u7c7b\u578b",
                "parm_name": "obj_info_rel_type"
            }
        ],
        "rule_desc": "\u5b58\u5728\u89c6\u56fe\u8bbf\u95ee",
        "rule_name": "SQL_VIEW_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OBJECT_TYPE\":\"VIEW\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",\"OBJECT_OWNER\":{$ne:null},\"OBJECT_NAME\":/^index$_join$/}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728\u89c6\u56fe\u8bbf\u95ee",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u89c6\u56fe\u4e0d\u80fd\u5c55\u5f00,\u590d\u6742\u89c6\u56fe\u62c6\u89e3\u3001\u6539\u5199"
        ],
        "weight": 0.5,
        "obj_info_type": "VIEW",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb4b",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "\u5b58\u5728\u5e76\u884c\u8bbf\u95ee\u7279\u5f81",
        "rule_name": "SQL_PARALLEL_FETCH",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"PX COORDINATOR\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728\u5e76\u884c\u8bbf\u95ee\u7279\u5f81",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u53d6\u6d88\u8868\u3001\u7d22\u5f15\u3001sql\u4e2d\u7684\u5e76\u884c\u8bbe\u7f6e"
        ],
        "weight": 1.0,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb4c",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u7b1b\u5361\u5c14\u79ef\u5173\u8054",
        "rule_name": "SQL_MERGE_JOIN_CARTESIAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"OPERATION\":\"MERGE JOIN\",\"OPTIONS\":\"CARTESIAN\",\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"OBJECT_NAME\":x.OBJECT_NAME,\"ID\":x.ID,\"COST\":x.COST,\"COUNT\":\"\"});})",
        "rule_status": "ON",
        "rule_summary": "\u7b1b\u5361\u5c14\u79ef",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "1.\u8868\u5173\u8054\u6761\u4ef6\u7f3a\u5931,\u52a0\u4e0a\u5173\u8054\u6761\u4ef6",
            "2.\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e,\u624b\u5de5\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f"
        ],
        "weight": 0.1,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb4d",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u9690\u5f0f\u8f6c\u6362",
        "rule_name": "SQL_TO_CHANGE_TYPE",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({FILTER_PREDICATES:/SYS_OP/,USERNAME:\"@username@\",ETL_DATE:\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({SQL_ID:x.SQL_ID,PLAN_HASH_VALUE:x.PLAN_HASH_VALUE,OBJECT_NAME:x.OBJECT_NAME,ID:x.ID,COST:x.COST,COUNT:\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u9690\u5f0f\u8f6c\u6362",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "1.\u663e\u793a\u8f6c\u6362",
            "2.\u9009\u62e9\u5408\u9002\u7684\u5b57\u6bb5\u7c7b\u578b"
        ],
        "weight": 0.5,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb4e",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u8868\u7269\u7406\u5927\u5c0f",
                "parm_name": "table_phy_size",
                "parm_unit": "MB",
                "parm_value": 1024.0
            },
            {
                "parm_desc": "\u8868\u884c\u6570",
                "parm_name": "table_row_num",
                "parm_unit": "",
                "parm_value": 5000
            }
        ],
        "max_score": 20,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5d4c\u5957\u5faa\u73af\u5185\u5c42\u8868\u5168\u626b",
        "rule_name": "LOOP_IN_TAB_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({$or: [{\"OPERATION\":/NESTED LOOP/},{\"OPERATION\":/FILTER/}],\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({SQL_ID:x.SQL_ID,PLAN_HASH_VALUE:x.PLAN_HASH_VALUE,PARENT_ID:x.ID,USERNAME:x.USERNAME,ETL_DATE:x.ETL_DATE});});db.@tmp@.find().forEach(  function(x){  db.sqlplan.find({SQL_ID:x.SQL_ID,PLAN_HASH_VALUE:x.PLAN_HASH_VALUE,PARENT_ID:x.PARENT_ID,USERNAME:x.USERNAME,ETL_DATE:x.ETL_DATE}).forEach(function(y){db.@tmp1@.save({SQL_ID:y.SQL_ID,PLAN_HASH_VALUE:y.PLAN_HASH_VALUE,OBJECT_NAME:y.OBJECT_NAME,ID:y.ID,PARENT_ID:y.PARENT_ID,OPERATION:y.OPERATION,OPTIONS:y.OPTIONS,USERNAME:y.USERNAME,ETL_DATE:y.ETL_DATE})});});db.@tmp@.drop();db.@tmp1@.aggregate([{$group:{_id:{PARENT_ID:\"$PARENT_ID\",SQL_ID:\"$SQL_ID\",PLAN_HASH_VALUE:\"$PLAN_HASH_VALUE\"},MAXID: {$max:\"$ID\"}}}]).forEach(function(z){db.sqlplan.find({SQL_ID:z._id.SQL_ID,PLAN_HASH_VALUE:z._id.PLAN_HASH_VALUE,$and:[{ID:z.MAXID},{ID:{$ne:2}}],\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",OPERATION:\"TABLE ACCESS\",OPTIONS:\"FULL\"}).forEach(function(y){if(db.obj_tab_info.findOne({\"OWNER\":y.OBJECT_OWNER,\"ETL_DATE\":y.ETL_DATE,\"TABLE_NAME\":y.OBJECT_NAME,$or: [{\"NUM_ROWS\":{$gt:@table_row_num@}},{\"PHY_SIZE(MB)\":{$gt:@table_phy_size@}}]}))db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"OBJECT_NAME\":y.OBJECT_NAME,\"ID\":y.ID,\"COST\":y.COST,\"COUNT\":\"\"})});})",
        "rule_status": "ON",
        "rule_summary": "\u5d4c\u5957\u5faa\u73af\u5185\u5c42\u8868\u8bbf\u95ee\u65b9\u5f0f\u4e3a\u5168\u8868\u626b\u63cf",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u5173\u8054\u5217\u521b\u5efa\u7d22\u5f15"
        ],
        "weight": 1.0,
        "obj_info_type": "TABLE",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb4f",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u8868\u5d4c\u5957\u7684\u5c42\u6b21",
                "parm_name": "loop_num",
                "parm_unit": "",
                "parm_value": 3
            }
        ],
        "max_score": 5,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            },
            {
                "parm_desc": "\u540d\u79f0",
                "parm_name": "obj_info_name"
            },
            {
                "parm_desc": "\u7269\u7406\u5927\u5c0f",
                "parm_name": "obj_info_phy_size"
            },
            {
                "parm_desc": "\u8bb0\u5f55\u6570",
                "parm_name": "obj_info_num"
            },
            {
                "parm_desc": "\u8868\u7c7b\u578b",
                "parm_name": "obj_info_type"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21\u5206\u6790\u7684\u65f6\u95f4",
                "parm_name": "obj_info_last_analyzed"
            },
            {
                "parm_desc": "\u6700\u540e\u4e00\u6b21DDL\u7684\u65f6\u95f4",
                "parm_name": "obj_info_ddl_time"
            }
        ],
        "rule_desc": "\u5d4c\u5957\u5c42\u6b21\u8fc7\u6df1",
        "rule_name": "SQL_LOOP_NUM",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.group( { key:{\"USERNAME\":1,\"ETL_DATE\":1,\"SQL_ID\":1,\"PLAN_HASH_VALUE\":1}, cond:{\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\",$or: [{\"OPERATION\":/NESTED LOOP/},{\"OPERATION\":/FILTER/}]}, reduce:function(curr,result){ result.count++; }, initial:{count:0} } ).forEach(function(x){db.@tmp1@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE,\"COUNT\":x.count})});db.@tmp1@.find({\"COUNT\":{$gte:\"@loop_num@\"}}).forEach(function(y){db.@tmp@.save({\"SQL_ID\":y.SQL_ID,\"PLAN_HASH_VALUE\":y.PLAN_HASH_VALUE,\"ID\":y.ID,\"COUNT\":x.COUNT,\"COST\":\"\",\"OBJECT_NAME\":\"\"})})",
        "rule_status": "ON",
        "rule_summary": "\u5d4c\u5957\u5c42\u6b21\u8fc7\u6df1",
        "rule_type": "SQLPLAN",
        "rule_type_detail": "",
        "solution": [
            "\u6539\u5199sql\u903b\u8f91\u51cf\u5c11\u8868\u5173\u8054\u7684\u6570\u91cf"
        ],
        "weight": 1.0,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb50",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u5b50\u6e38\u6807\u7684\u6570\u91cf",
                "parm_name": "cursor_num",
                "parm_unit": "",
                "parm_value": 30
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u5b50\u6e38\u6807\u8fc7\u591a",
        "rule_name": "SQL_SUB_CURSOR_COUNT",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"VERSION_COUNT\":{$gte:@cursor_num@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "\u5b50\u6e38\u6807\u8fc7\u591a",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "SQLSTAT_CURSOR",
        "solution": [
            "\u53c2\u8003 SQLs With Bind Variable Has Very High Version Count (Doc ID 258742.1)\u5b9a\u4f4d\u539f\u56e0"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb51",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "buffer gets",
                "parm_name": "buffer_gets",
                "parm_unit": "bytes",
                "parm_value": 1000
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6d88\u8017\u903b\u8f91\u8bfb\u8fc7\u9ad8",
        "rule_name": "SQL_BUFFER_GETS",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_BUFFER_GETS\":{$gte:@buffer_gets@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "sql\u6267\u884c buffer get\u8fc7\u5927",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "1.\u5bf9sql\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u5206\u6790\u5e76\u8fdb\u884c\u4f18\u5316",
            "2.SQL\u6267\u884c\u6b21\u6570\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb52",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "cpu\u65f6\u95f4",
                "parm_name": "cpu_time",
                "parm_unit": "\u79d2",
                "parm_value": 100
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6d88\u8017CPU\u65f6\u95f4\u8fc7\u957f",
        "rule_name": "SQL_CPU_TIME",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_CPU_TIME\":{$gte:@cpu_time@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "SQL\u6267\u884c\u6d88\u8017cpu\u65f6\u95f4\u8fc7\u957f",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "1.\u5bf9sql\u6267\u884c\u8ba1\u5212\u8fdb\u884c\u5206\u6790\u5e76\u8fdb\u884c\u4f18\u5316",
            "2.SQL\u6267\u884c\u6b21\u6570\u662f\u5426\u5408\u7406"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb53",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "\u6267\u884c\u65f6\u95f4",
                "parm_name": "elapsed_time",
                "parm_unit": "\u79d2",
                "parm_value": 100
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6267\u884c\u65f6\u95f4\u8fc7\u957f",
        "rule_name": "SQL_ELAPSED_TIME",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_ELAPSED_TIME\":{$gte:@elapsed_time@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "sql\u6267\u884c\u65f6\u95f4\u8fc7\u957f",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "\u5bf9sql\u6267\u884c\u6b21\u6570\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb54",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "SQL\u4e2d\u51fa\u73b0union",
        "rule_name": "UNION",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u51fa\u73b0union,\u9632\u6b62\u51fa\u73b0\u4e0d\u5fc5\u8981\u7684\u6392\u5e8f\u52a8\u4f5c",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199unionall\u548csql\u903b\u8f91\u4e2d\u53bb\u91cd"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb55",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u67e5\u8be2\u5217\u4e0a\u4f7f\u7528\u8868\u8fbe\u5f0f",
        "rule_name": "WHERE_FUNC",
        "rule_complexity": "simple",
        "rule_cmd": "\\)\\s?[<>=]{1,2}",
        "rule_status": "ON",
        "rule_summary": "\u7981\u6b62\u5728\u67e5\u8be2\u5b57\u6bb5\u4e2d\u5f15\u7528\u51fd\u6570",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.\u51fd\u6570\u5199\u5728\u8868\u8fbe\u5f0f\u53f3\u8fb9",
            "2.\u5e94\u7528\u7a0b\u5e8f\u5b9e\u73b0\u51fd\u6570\u529f\u80fd"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb56",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "SQL\u5b57\u7b26\u6570\u91cf",
                "parm_name": "char_num",
                "parm_value": 1000,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "SQL\u6587\u672c\u8fc7\u957f",
        "rule_name": "LONG_TEXT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "SQL\u6587\u672c\u8fc7\u957f",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "sql\u6539\u5199\u4e3a\u7cbe\u7b80\u8bed\u53e5"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb57",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "disk_reads",
                "parm_name": "disk_reads",
                "parm_unit": "bytes",
                "parm_value": 1000
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6d88\u8017\u7269\u7406\u8bfb\u8fc7\u9ad8",
        "rule_name": "SQL_DISK_READS",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_DISK_READS\":{$gte:@disk_reads@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "disk_reads\u91cf\u5927",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "\u5bf9sql\u6d88\u8017\u8d44\u6e90\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb58",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u5b58\u5728\u5168\u8fde\u63a5\u6216\u5916\u8fde\u63a5",
        "rule_name": "BAD_JOIN",
        "rule_complexity": "simple",
        "rule_cmd": "(cross join)|(outer join)",
        "rule_status": "ON",
        "rule_summary": "\u5b58\u5728\u5168\u8fde\u63a5\u6216\u5916\u8fde\u63a5,cross join\u6216outer join\u60c5\u51b5",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3ainnerjoin"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb59",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "inlist\u5143\u7d20\u4e2a\u6570",
                "parm_name": "in_list_num",
                "parm_value": 20,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "IN List\u5143\u7d20\u8fc7\u591a",
        "rule_name": "TOOMANY_IN_LIST",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "IN List\u5143\u7d20\u8fc7\u591a",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u7528\u4e34\u65f6\u8868\u5b58\u5165\u53d8\u91cf"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb5a",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "sql\u6267\u884c\u6b21\u6570",
                "parm_name": "sql_count_num",
                "parm_unit": "\u6b21\u6570",
                "parm_value": 100.0
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u6267\u884c\u6b21\u6570\u8fc7\u9ad8",
        "rule_name": "SQL_EXECUTIONS",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"EXECUTIONS\":{$gte:@sql_count_num@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "sql\u6267\u884c\u6b21\u6570",
        "rule_type": "SQLSTAT",
        "rule_type_detail": null,
        "solution": [
            "\u5bf9sql\u6267\u884c\u6b21\u6570\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb5b",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u8c13\u8bcd\u4e2d\u5b58\u5728\u8d1f\u5411\u64cd\u4f5c\u7b26!=\u7b49",
        "rule_name": "WHERE_NOT",
        "rule_complexity": "simple",
        "rule_cmd": "(!=)|(<>)|(!>)|(!<)",
        "rule_status": "ON",
        "rule_summary": "\u8c13\u8bcd\u4e2d\u5b58\u5728\u8d1f\u5411\u64cd\u4f5c\u7b26,!=,<>,!<,!>,not exists,not",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.\u5982\u679c\u5217\u503c\u662f\u8fde\u7eed,\u53ef\u628a\u5426\u5b9a\u64cd\u4f5c,\u66f4\u6539\u4e3a\u4e24\u4e2a\u533a\u95f4",
            "2.\u4e0d\u5efa\u8bae\u4f7f\u7528\u4e0d\u7b49\u503c\u8fd0\u7b97"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb5c",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "\u7ed1\u5b9a\u53d8\u91cf\u4e2a\u6570",
                "parm_name": "num_of_bound_var",
                "parm_value": 50,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u7ed1\u5b9a\u53d8\u91cf\u8fc7\u591a",
        "rule_name": "TOOMANY_BIND",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u7ed1\u5b9a\u53d8\u91cf\u8fc7\u591a",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u51cf\u5c11\u7ed1\u5b9a\u53d8\u91cf"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb5d",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u91cd\u590d\u67e5\u8be2\u5b50\u53e5",
        "rule_name": "SUBQUERY_REP",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u7981\u6b62\u4f7f\u7528\u91cd\u590d\u7684\u67e5\u8be2\u5b50\u53e5,\u5e94\u4f7f\u7528with as\u66ff\u6362\u5b50\u53e5(\u4ec5\u9650Oracle)\u6765\u63d0\u5347SQL\u6267\u884c\u6548\u7387",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.withas",
            "2.\u6539\u5199sql\u907f\u514d\u91cd\u590d\u67e5\u8be2"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb5e",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "having\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_HAVING",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "having\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb5f",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u8c13\u8bcd\u6761\u4ef6\u4f7f\u7528like %xxx,\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15",
        "rule_name": "LIKE_UNINDEX",
        "rule_complexity": "simple",
        "rule_cmd": "like .\\%",
        "rule_status": "ON",
        "rule_summary": "\u8c13\u8bcd\u6761\u4ef6\u4f7f\u7528like %xxx,\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u4ece\u4e1a\u52a1\u89d2\u5ea6\u51fa\u53d1,\u5206\u6790\u662f\u5426\u53ef\u4f7f\u7528\u7cbe\u786e\u8fd0\u7b97\u7b26\u6216\u7c7b\u4f3clike'xx%'"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb60",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "delete\u6216update\u4e2d\u51fa\u73b0order by\u5b50\u53e5",
        "rule_name": "DML_SORT",
        "rule_complexity": "simple",
        "rule_cmd": "(\\s)?((update )|(delete )).*order by",
        "rule_status": "ON",
        "rule_summary": "delete\u6216update\u4e2d\u51fa\u73b0order by\u5b50\u53e5,\u9632\u6b62\u5220\u9664\u6216\u66f4\u65b0\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e0d\u5fc5\u8981\u7684\u6392\u5e8f",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "DML\u64cd\u4f5c\u65e0\u9700\u6392\u5e8f"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb61",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u4f7f\u7528select *",
        "rule_name": "SELECT_ANY",
        "rule_complexity": "simple",
        "rule_cmd": "(select \\*)|(select .*\\.\\*)",
        "rule_status": "ON",
        "rule_summary": "\u7981\u6b62\u4f7f\u7528select *,\u5fc5\u987b\u660e\u786e\u9009\u62e9\u6240\u9700\u7684\u5217",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u4f7f\u7528\u660e\u786e\u7684\u5217"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb62",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "from\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_FROM",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "from\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb63",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "delete\u6216update\u4e2d\u7f3a\u5c11where\u6761\u4ef6",
        "rule_name": "DML_ALLDATA",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "delete\u6216update\u4e2d\u5fc5\u987b\u51fa\u73b0where\u5b50\u53e5,\u9632\u6b62\u51fa\u73b0\u610f\u5916\u7684\u5168\u90e8\u5220\u9664\u6216\u66f4\u65b0\u52a8\u4f5c",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "1.\u5efa\u8bae\u52a0where\u6761\u4ef6",
            "2.\u5168\u8868\u5220\u9664\u7528truncate"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb64",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [
            {
                "parm_desc": "or\u4e2a\u6570",
                "parm_name": "or_num",
                "parm_value": 5,
                "parm_unit": ""
            }
        ],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "\u591a\u4e2a\u8fc7\u6ee4\u6761\u4ef6\u901a\u8fc7or\u8fde\u63a5",
        "rule_name": "TOOMANY_OR",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "\u591a\u4e2a\u8fc7\u6ee4\u6761\u4ef6\u901a\u8fc7or\u8fde\u63a5,\u9632\u6b62\u4f18\u5316\u5668\u51fa\u73b0\u9009\u62e9\u5f02\u5e38",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u7528\u4e34\u65f6\u8868\u5b58\u5165\u53d8\u91cf"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb65",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "select\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_SELECT",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "select\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb66",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID",
            "PLAN_HASH_VALUE"
        ],
        "input_parms": [
            {
                "parm_desc": "direct_writes",
                "parm_name": "direct_writes",
                "parm_unit": "bytes",
                "parm_value": 1000
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "SQL_ID",
                "parm_name": "SQL_ID"
            },
            {
                "parm_desc": "PLAN_HASH_VALUE",
                "parm_name": "PLAN_HASH_VALUE"
            },
            {
                "parm_desc": "SQL_TEXT",
                "parm_name": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "SQL_PLAN",
                "parm_name": "SQL_PLAN"
            },
            {
                "parm_desc": "\u4f7f\u7528\u7684cpu\u8d44\u6e90",
                "parm_name": "STAT_CPU"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "STAT_EXEC"
            },
            {
                "parm_desc": "\u4f7f\u7528buffer\u7684\u8d44\u6e90",
                "parm_name": "STAT_BUFFER_GETS"
            },
            {
                "parm_desc": "\u7269\u7406\u8bfb\u60c5\u51b5",
                "parm_name": "STAT_DISK_READS"
            },
            {
                "parm_desc": "\u89e3\u6790\u7684\u65f6\u95f4",
                "parm_name": "STAT_ELAPSED_TIME"
            }
        ],
        "rule_desc": "SQL\u76f4\u63a5\u8def\u5f84\u5199\u8fc7\u9ad8",
        "rule_name": "SQL_DIRECT_WRITES",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"PER_DIRECT_WRITES\":{$gte:@direct_writes@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"SQL_ID\":x.SQL_ID,\"PLAN_HASH_VALUE\":x.PLAN_HASH_VALUE})})",
        "rule_status": "ON",
        "rule_summary": "direct_wirtes \u91cf\u5927",
        "rule_type": "SQLSTAT",
        "rule_type_detail": "",
        "solution": [
            "\u5bf9sql\u6d88\u8017\u8d44\u6e90\u8bc4\u4f30\u662f\u5426\u5408\u7406,\u80fd\u5426\u4f18\u5316"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb67",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 20,
        "output_parms": [],
        "rule_desc": "where\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_name": "SUBQUERY_WHERE",
        "rule_complexity": "complex",
        "rule_cmd": "default",
        "rule_status": "ON",
        "rule_summary": "where\u6bb5\u51fa\u73b0\u5b50\u67e5\u8be2",
        "rule_type": "TEXT",
        "rule_type_detail": null,
        "solution": [
            "\u6539\u5199\u4e3a\u8868\u5173\u8054"
        ],
        "weight": 2.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb68",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "SQL_ID"
        ],
        "input_parms": [
            {
                "parm_desc": "\u76f8\u4f3csql\u7684\u6570\u91cf",
                "parm_name": "sql_no_bind_count",
                "parm_value": 100,
                "parm_unit": ""
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_name": "SQL_TEXT",
                "parm_desc": "SQL_TEXT"
            },
            {
                "parm_desc": "SQL_FULLTEXT",
                "parm_name": "SQL_FULLTEXT"
            },
            {
                "parm_desc": "no_bind_sql_sum",
                "parm_name": "SUM"
            }
        ],
        "rule_desc": "SQL\u672a\u4f7f\u7528\u7ed1\u5b9a\u53d8\u91cf",
        "rule_name": "SQL_NO_BIND",
        "rule_complexity": "simple",
        "rule_cmd": "db.@sql@.find({\"SUM\":{$gt:@sql_no_bind_count@},\"USERNAME\":\"@username@\",\"@etl_date_key@\":\"@etl_date@\"}).forEach(function(x){db.@tmp@.save({\"USERNAME\":x.USERNAME,\"SQL_ID\":x.SQL_ID,\"SUM\":x.SUM,\"SQL_TEXT_DETAIL\":x.SQL_TEXT_DETAIL,\"SQL_TEXT\":x.SQL_TEXT});})",
        "rule_status": "ON",
        "rule_summary": "\u672a\u4f7f\u7528\u7ed1\u5b9a\u53d8\u91cf",
        "rule_type": "SQLSTAT",
        "rule_type_detail": null,
        "solution": [
            "\u5f3a\u9009\u62e9\u6027\u8c13\u8bcd\u4f7f\u7528\u7ed1\u5b9a\u53d8\u91cf\u5199\u6cd5"
        ],
        "weight": 0.1,
        "obj_info_type": "",
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb69",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "INDEX"
        ],
        "input_parms": [
            {
                "parm_name": "idx_level",
                "parm_value": 3,
                "parm_unit": "",
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6"
            }
        ],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "\u7d22\u5f15\u540d",
                "parm_name": "index_name"
            },
            {
                "parm_desc": "\u7d22\u5f15\u7c7b\u578b",
                "parm_name": "index_type"
            },
            {
                "parm_desc": "\u7d22\u5f15\u9ad8\u5ea6",
                "parm_name": "index_level"
            },
            {
                "parm_name": "table_name",
                "parm_desc": "\u8868\u540d"
            }
        ],
        "rule_desc": "\u7d22\u5f15\u5bf9\u8c61\u9ad8\u5ea6\u8fc7\u9ad8",
        "rule_name": "IDX_BLEVEL1111111",
        "rule_complexity": "simple",
        "rule_cmd": "select index_name, type, idx_blevel, table_name from (select distinct t.owner||'.'||t.INDEX_NAME as INDEX_NAME,decode(INDEX_TYPE,'NORMAL','B-tree',decode(index_type,'BITMAP','BitMap',decode(INDEX_TYPE,'FUNCTION-BASED NORMAL','Func',decode(table_type,'IOT','IOT',decode(index_type,'LOB','Lob'))))) as type, t.TABLE_NAME,t.blevel as idx_blevel from dba_indexes t   where t.index_name not like 'BIN%'  and t.owner = '@username@' and t.blevel > @idx_level@  order by t.table_name, t.owner||'.'||t.index_name)",
        "rule_status": "ON",
        "rule_summary": "\u7d22\u5f15\u5bf9\u8c61\u9ad8\u5ea6",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "1.\u91cd\u6784\u8868\u7684\u5b57\u6bb5\u6216\u7d22\u5f15",
            "2.\u91cd\u5efa\u7d22\u5f15"
        ],
        "weight": 0.5,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb6a",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": [
            "asd"
        ],
        "input_parms": [
            {
                "parm_name": "ddd",
                "parm_value": "1",
                "parm_unit": "a",
                "parm_desc": "dddd"
            }
        ],
        "max_score": 1,
        "output_parms": [
            {
                "parm_name": "dddd",
                "parm_desc": "dddd"
            }
        ],
        "rule_desc": "\u963f\u8428\u65af\u5927\u6240\u591a",
        "rule_name": "asdddd",
        "rule_complexity": "simple",
        "rule_cmd": "select",
        "rule_status": "ON",
        "rule_summary": "dsdsd",
        "rule_type": "OBJ",
        "rule_type_detail": null,
        "solution": [
            "asdasd",
            "acccc",
            "123123"
        ],
        "weight": 1.0,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb6b",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "CHECKSUM",
                "parm_name": "CHECKSUM"
            },
            {
                "parm_desc": "\u626b\u63cf\u884c\u6570",
                "parm_name": "ROWS"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "ts_cnt"
            },
            {
                "parm_desc": "\u5e73\u5747\u6267\u884c\u65f6\u95f4",
                "parm_name": "query_time_avg"
            },
            {
                "parm_desc": "\u5e73\u5747\u8fd4\u56de\u8bb0\u5f55\u6570",
                "parm_name": "rows_sent_avg"
            },
            {
                "parm_desc": "\u626b\u63cf\u547d\u4e2d\u7387",
                "parm_name": "index_ratio"
            }
        ],
        "rule_desc": "\u5168\u8868\u626b\u63cf",
        "rule_name": "TABLE_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.planitem.find({\"schemas\":\"@schema_name@\",\"access_type\" : \"ALL\",\"rows\" : {\"$gt\":1},\"citem_type\":{\"$ne\":\"materialized_from_subquery\"}}).forEach(function(x){db.sqlinfo.find({checksum:x.checksum}).forEach(function(y){db.@tmp@.save({\"checksum\" :y.checksum,\"ts_cnt\" :y.ts_cnt,\"query_time_avg\" :y.query_time_avg,\"rows_sent_avg\" :y.rows_sent_avg,\"index_ratio\" :y.index_ratio,\"rows\":x.rows})})})",
        "rule_status": "ON",
        "rule_summary": "\u5927\u8868\u5168\u8868\u626b\u63cf,\u884c\u6570\u8d85\u8fc7\u9600\u503c,\u626b\u63cf\u4e86\u591a\u4f59\u7684\u6570\u636e,\u5efa\u8bae\u4f7f\u7528\u7d22\u5f15\u6765\u907f\u514d",
        "rule_type": "SQLPLAN",
        "rule_type_detail": null,
        "solution": [
            "1.\u7f3a\u7d22\u5f15\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "2.\u53d6max\u3001min\u503c\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "3.\u7d22\u5f15\u5931\u6548\u91cd\u5efa\u7d22\u5f15,\u5206\u533a\u8868\u7ef4\u62a4\u8bb0\u5f97\u7ef4\u62a4\u7d22\u5f15",
            "4.\u5bf9\u6761\u4ef6\u5b57\u6bb5\u4f7f\u7528\u51fd\u6570\u6216\u8868\u8fbe\u5f0fa.\u51fd\u6570\u3001\u8868\u8fbe\u5f0f\u653e\u5230\u7b49\u4e8e\u53f7\u7684\u53f3\u8fb9b.\u521b\u5efa\u51fd\u6570\u7d22\u5f15(\u4e0b\u7b56)",
            "5.\u51fa\u73b0\u9690\u5f0f\u8f6c\u6362a.\u4e0d\u540c\u7c7b\u578b\u7684\u8c13\u8bcd\u5339\u914d\u5148\u663e\u5f0f\u8f6c\u6362b.\u8868\u5b9a\u4e49\u6839\u636e\u6570\u636e\u9009\u62e9\u6b63\u786e\u7684\u6570\u636e\u7c7b\u578b",
            "6.\u4f7f\u7528\u4e0d\u7b49\u8fd0\u7b97\u7b26<>!=\u505a\u67e5\u8be2\u6761\u4ef6a.\u5c3d\u91cf\u5c11\u7528\u4e0d\u7b49\u5224\u65ad\uff1bb.\u5982\u679c\u5217\u503c\u662f\u8fde\u7eed,\u53ef\u628a\u5426\u5b9a\u64cd\u4f5c\u66f4\u6539\u4e3a\u4e24\u4e2a\u533a\u95f4\uff1bc.\u5982\u679c\u5217\u503c\u4e0d\u591a,\u53ef\u7528inlist\u679a\u4e3e\u5176\u4ed6\u6240\u6709\u503c",
            "7.?\ue42f\u30c5\u6d0c\ue667\uff05,\uff05a\u5efa\u8bae\u7cbe\u786e\u5339\u914d",
            "8.sql\u903b\u8f91,\u6bd4\u5982\u6700\u5927\u503c,\u6539\u7528\u7a97\u53e3\u51fd\u6570",
            "9.\u5f31\u9009\u62e9sql,\u8fd4\u56de\u7ed3\u679c\u96c6\u8f83\u5927\u5efa\u8baea.\u6dfb\u52a0\u66f4\u591a\u7684\u8c13\u8bcd\u51cf\u5c11\u6570\u636e\u7684\u8bbf\u95ee,\u6bd4\u5982\u65f6\u95f4b.\u6539\u9020\u5206\u533a\u8868c.\u4f7f\u7528\u8986\u76d6\u7d22\u5f15",
            "10.\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\u6570\u636e\u6279\u91cf\u52a0\u8f7d\u7a0b\u5e8f\u89e6\u53d1\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f"
        ],
        "weight": 0.1,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb6c",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "CHECKSUM",
                "parm_name": "CHECKSUM"
            },
            {
                "parm_desc": "\u626b\u63cf\u884c\u6570",
                "parm_name": "ROWS"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "ts_cnt"
            },
            {
                "parm_desc": "\u5e73\u5747\u6267\u884c\u65f6\u95f4",
                "parm_name": "query_time_avg"
            },
            {
                "parm_desc": "\u5e73\u5747\u8fd4\u56de\u8bb0\u5f55\u6570",
                "parm_name": "rows_sent_avg"
            },
            {
                "parm_desc": "\u626b\u63cf\u547d\u4e2d\u7387",
                "parm_name": "index_ratio"
            }
        ],
        "rule_desc": "\u5168\u8868\u626b\u63cf",
        "rule_name": "TABLE_FULL_SCAN",
        "rule_complexity": "simple",
        "rule_cmd": "db.planitem.find({\"schemas\":\"@schema_name@\",\"access_type\" : \"ALL\",\"rows\" : {\"$gt\":1},\"citem_type\":{\"$ne\":\"materialized_from_subquery\"}}).forEach(function(x){db.sqlinfo.find({checksum:x.checksum}).forEach(function(y){db.@tmp@.save({\"checksum\" :y.checksum,\"ts_cnt\" :y.ts_cnt,\"query_time_avg\" :y.query_time_avg,\"rows_sent_avg\" :y.rows_sent_avg,\"index_ratio\" :y.index_ratio,\"rows\":x.rows})})})",
        "rule_status": "ON",
        "rule_summary": "\u5927\u8868\u5168\u8868\u626b\u63cf,\u884c\u6570\u8d85\u8fc7\u9600\u503c,\u626b\u63cf\u4e86\u591a\u4f59\u7684\u6570\u636e,\u5efa\u8bae\u4f7f\u7528\u7d22\u5f15\u6765\u907f\u514d",
        "rule_type": "SQLPLAN",
        "rule_type_detail": null,
        "solution": [
            "1.\u7f3a\u7d22\u5f15\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "2.\u53d6max\u3001min\u503c\u8bc4\u4f30\u521b\u5efa\u7d22\u5f15",
            "3.\u7d22\u5f15\u5931\u6548\u91cd\u5efa\u7d22\u5f15,\u5206\u533a\u8868\u7ef4\u62a4\u8bb0\u5f97\u7ef4\u62a4\u7d22\u5f15",
            "4.\u5bf9\u6761\u4ef6\u5b57\u6bb5\u4f7f\u7528\u51fd\u6570\u6216\u8868\u8fbe\u5f0fa.\u51fd\u6570\u3001\u8868\u8fbe\u5f0f\u653e\u5230\u7b49\u4e8e\u53f7\u7684\u53f3\u8fb9b.\u521b\u5efa\u51fd\u6570\u7d22\u5f15(\u4e0b\u7b56)",
            "5.\u51fa\u73b0\u9690\u5f0f\u8f6c\u6362a.\u4e0d\u540c\u7c7b\u578b\u7684\u8c13\u8bcd\u5339\u914d\u5148\u663e\u5f0f\u8f6c\u6362b.\u8868\u5b9a\u4e49\u6839\u636e\u6570\u636e\u9009\u62e9\u6b63\u786e\u7684\u6570\u636e\u7c7b\u578b",
            "6.\u4f7f\u7528\u4e0d\u7b49\u8fd0\u7b97\u7b26<>!=\u505a\u67e5\u8be2\u6761\u4ef6a.\u5c3d\u91cf\u5c11\u7528\u4e0d\u7b49\u5224\u65ad\uff1bb.\u5982\u679c\u5217\u503c\u662f\u8fde\u7eed,\u53ef\u628a\u5426\u5b9a\u64cd\u4f5c\u66f4\u6539\u4e3a\u4e24\u4e2a\u533a\u95f4\uff1bc.\u5982\u679c\u5217\u503c\u4e0d\u591a,\u53ef\u7528inlist\u679a\u4e3e\u5176\u4ed6\u6240\u6709\u503c",
            "7.?\ue42f\u30c5\u6d0c\ue667\uff05,\uff05a\u5efa\u8bae\u7cbe\u786e\u5339\u914d",
            "8.sql\u903b\u8f91,\u6bd4\u5982\u6700\u5927\u503c,\u6539\u7528\u7a97\u53e3\u51fd\u6570",
            "9.\u5f31\u9009\u62e9sql,\u8fd4\u56de\u7ed3\u679c\u96c6\u8f83\u5927\u5efa\u8baea.\u6dfb\u52a0\u66f4\u591a\u7684\u8c13\u8bcd\u51cf\u5c11\u6570\u636e\u7684\u8bbf\u95ee,\u6bd4\u5982\u65f6\u95f4b.\u6539\u9020\u5206\u533a\u8868c.\u4f7f\u7528\u8986\u76d6\u7d22\u5f15",
            "10.\u7edf\u8ba1\u4fe1\u606f\u4e0d\u51c6\u786e\u6570\u636e\u6279\u91cf\u52a0\u8f7d\u7a0b\u5e8f\u89e6\u53d1\u6536\u96c6\u7edf\u8ba1\u4fe1\u606f"
        ],
        "weight": 0.1,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb6d",
        "db_type": "oracle",
        "db_model": "OLTP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "CHECKSUM",
                "parm_name": "CHECKSUM"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "ts_cnt"
            },
            {
                "parm_desc": "\u5e73\u5747\u6267\u884c\u65f6\u95f4",
                "parm_name": "query_time_avg"
            },
            {
                "parm_desc": "\u5e73\u5747\u8fd4\u56de\u8bb0\u5f55\u6570",
                "parm_name": "rows_sent_avg"
            },
            {
                "parm_desc": "\u626b\u63cf\u547d\u4e2d\u7387",
                "parm_name": "index_ratio"
            }
        ],
        "rule_desc": "multi_tab_join",
        "rule_name": "MULTI_TAB_JOIN",
        "rule_complexity": "simple",
        "rule_cmd": "db.planitem.find({\"schemas\":\"@schema_name@\",\"citem_type\" : \"nested_loop\",\"citem.3\":{\"$exists\":1}}).forEach(function(x){db.sqlinfo.find({checksum:x.checksum}).forEach(function(y){db.@tmp@.save({\"checksum\" :y.checksum,\"ts_cnt\" :y.ts_cnt,\"query_time_avg\" :y.query_time_avg,\"rows_sent_avg\" :y.rows_sent_avg,\"index_ratio\" :y.index_ratio})})})",
        "rule_status": "ON",
        "rule_summary": "",
        "rule_type": "SQLPLAN",
        "rule_type_detail": null,
        "solution": [
            "sql\u903b\u8f91\u6539\u5199,\u51cf\u5c11\u8868\u5173\u8054"
        ],
        "weight": 0.1,
        "obj_info_type": null,
        "output_datas": []
    },
    {
        "_id": "5d1dc60317e30676efdfcb6e",
        "db_type": "oracle",
        "db_model": "OLAP",
        "exclude_obj_type": "",
        "input_parms": [],
        "max_score": 10,
        "output_parms": [
            {
                "parm_desc": "CHECKSUM",
                "parm_name": "CHECKSUM"
            },
            {
                "parm_desc": "\u6267\u884c\u6b21\u6570",
                "parm_name": "ts_cnt"
            },
            {
                "parm_desc": "\u5e73\u5747\u6267\u884c\u65f6\u95f4",
                "parm_name": "query_time_avg"
            },
            {
                "parm_desc": "\u5e73\u5747\u8fd4\u56de\u8bb0\u5f55\u6570",
                "parm_name": "rows_sent_avg"
            },
            {
                "parm_desc": "\u626b\u63cf\u547d\u4e2d\u7387",
                "parm_name": "index_ratio"
            }
        ],
        "rule_desc": "multi_tab_join",
        "rule_name": "MULTI_TAB_JOIN",
        "rule_complexity": "simple",
        "rule_cmd": "db.planitem.find({\"schemas\":\"@schema_name@\",\"citem_type\" : \"nested_loop\",\"citem.3\":{\"$exists\":1}}).forEach(function(x){db.sqlinfo.find({checksum:x.checksum}).forEach(function(y){db.@tmp@.save({\"checksum\" :y.checksum,\"ts_cnt\" :y.ts_cnt,\"query_time_avg\" :y.query_time_avg,\"rows_sent_avg\" :y.rows_sent_avg,\"index_ratio\" :y.index_ratio})})})",
        "rule_status": "ON",
        "rule_summary": "",
        "rule_type": "SQLPLAN",
        "rule_type_detail": null,
        "solution": [
            "sql\u903b\u8f91\u6539\u5199,\u51cf\u5c11\u8868\u5173\u8054"
        ],
        "weight": 0.1,
        "obj_info_type": null,
        "output_datas": []
    }
]